(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1372],{37818:function(e){e.exports={GoodsSkeletonWrapper:"GoodsSkeletonWrapper-1ek8u",goodsSkeletonImgContainer:"goodsSkeletonImgContainer-3YXja",skeletonImgContainer:"skeletonImgContainer-24zMO",goodsSkeletonName:"goodsSkeletonName-g8QyZ",skcSkeleton:"skcSkeleton-3z7Cv",skeletonSaleInfo:"skeletonSaleInfo-x7_KN",attributesTag:"attributesTag-16u27",goodsWrapper:"goodsWrapper-rOnMF",noHover:"noHover-2kHaA",showCategoryCard:"showCategoryCard-DjcTL",processTag:"processTag-135wT",qualityTags:"qualityTags-3VY1q",hoverThemeDefault:"hoverThemeDefault-cUAur",FadeIn:"FadeIn-8C3JC",hoverThemeScale:"hoverThemeScale-1G1VT",goodsImgContainer:"goodsImgContainer-3880I",goodsImg:"goodsImg-2FWCs",goodsImgWithFullHeight:"goodsImgWithFullHeight-2d9HL",adultGoodsImg:"adultGoodsImg-igBo3",masker:"masker-xRMDI",loadingBall:"loadingBall-eV3aA",ballItem:"ballItem-1c5wU",ballBreath:"ballBreath-25DOP",watermark:"watermark-3l1zd",noImgContainer:"noImgContainer-Y41XX",nameAndAvatar:"nameAndAvatar-1u9Uv",flexContainer:"flexContainer-1jwk9",marketPriceAndSales:"marketPriceAndSales-3o8sO",discountPrice:"discountPrice-1FqKm",unitPrefix:"unitPrefix-RV8DH",unitSuffix:"unitSuffix-3RyHK",priceText:"priceText-1l8dH",marketPrice:"marketPrice-Ff3dr",reductionText:"reductionText-3CXUK",saleInfo:"saleInfo-21nMm",saleInfoL:"saleInfoL-1kMLf",addCartWrap:"addCartWrap-1J_5s",saleInfoR:"saleInfoR-3hs1Q",noCart:"noCart-3-hLX",item:"item-20FJP",saleText:"saleText-31g9K",saleNum:"saleNum-NwHKF",placeHolder:"placeHolder-EXXpL",goodsTags:"goodsTags-2lbga",tag:"tag-2f6uz",rateContainer:"rateContainer-3X8K_",commentNum:"commentNum-1IzE7",brandTagIcon:"brandTagIcon-2kTKN",brandTags:"brandTags-4_qk7",cardWrap:"cardWrap-_PRvD",cartPlaceholder:"cartPlaceholder-1GusL",cartBtn:"cartBtn-1taUz",bottomTips:"bottomTips-3iXUW",personalizationTag:"personalizationTag-2z_V2",img:"img-1mxAg",text:"text-KtyJg",goodsTag:"goodsTag-jpiz-",billboardTagWrap:"billboardTagWrap-1C9UU",goodsTagSeat:"goodsTagSeat-2ZfYT",multiImgFadeAniEnable:"multiImgFadeAniEnable-Qws6D",secFadeAni:"secFadeAni-2V19I",comment:"comment-38A-6",promotionTagDiscount:"promotionTagDiscount-3F48L",promotionPrise:"promotionPrise-1g4vx",promotionText:"promotionText-X9lHy",promotionTextScale:"promotionTextScale-1YoeI",nameWrap:"nameWrap-e4OGP",GrayGoodsName:"GrayGoodsName-3eDSF",GraySmallGoodsName:"GraySmallGoodsName-3Y1cw",GraySmallThinGoodsName:"GraySmallThinGoodsName-2MOdH",payTag:"payTag-2hy9Y",couponTag:"couponTag-yFK1x",newStyle:"newStyle-3MUkB",goodsImageWrap:"goodsImageWrap-2Xcpq",centerHorizontally:"centerHorizontally-BsgWi",rateAndSaleInfo:"rateAndSaleInfo-1sS5F",bookAttributeTag:"bookAttributeTag-3_Xi0",mixBenefitTag:"mixBenefitTag-2jnu-",fadeOut:"fadeOut-1dsQ4"}},80629:function(e){e.exports={title:"title-2ae0E",cardWrap:"cardWrap-345tX",autoFitList:"autoFitList-1NDyc"}},20441:function(e){e.exports={wrap:"wrap-3dJeY",link:"link-FvVcE",icon:"icon-AabgB"}},38499:function(e){e.exports={quickLookAndAttributesTags:"quickLookAndAttributesTags-IlmQG",videoIconUrl:"videoIconUrl-1bQ2i",hasAttribute:"hasAttribute-1TGTx",attrs:"attrs-3I0XR"}},51532:function(e){e.exports={titleTagWrap:"titleTagWrap-3b7-H",titleTag:"titleTag-1dxyH",top:"top-3Emcu"}},50232:function(e){e.exports={arrowWrap:"arrowWrap-6A3Oq",arrowLeft:"arrowLeft-3nyDB",arrowRight:"arrowRight-2ehRn",arrow:"arrow-1Q5uq",innerArrowLeft:"innerArrowLeft-bGCjM",innerArrowRight:"innerArrowRight-22xGZ",hide:"hide-LKO5q"}},3522:function(e){e.exports={attributesTag:"attributesTag-Aferx",img:"img-2azHl",textListWrap:"textListWrap-1UpQy",text:"text-3qGRO",newStyle:"newStyle-3pQZ_"}},2497:function(e){e.exports={tags:"tags-2YKJn",item:"item-KeECq"}},95594:function(e){e.exports={capsuleTag:"capsuleTag-1TF2n",icon:"icon-1_Gn9",text:"text-UDW1T"}},6341:function(e){e.exports={tag:"tag-2SWxQ",line:"line-1genn",firstText:"firstText-3dzJG"}},32083:function(e){e.exports={discountPriceTag:"discountPriceTag-2HywM",arrow:"arrow-3Qvg4",tagContent:"tagContent-1IgHD",discountContent:"discountContent-2dx2q",text:"text-whl3z",countDown:"countDown-2jire",withBgCountDown:"withBgCountDown-hb5Yw",newStyle:"newStyle-p0JyO",content:"content-1pke-",withBorder:"withBorder-23srf",withBg:"withBg-P09fu",singleGoodsCoupon:"singleGoodsCoupon-2nnrz",textWrap:"textWrap-2_1HF",singleGoodsCoupontext:"singleGoodsCoupontext-1Ky5t",footerText:"footerText-13iXh",discount:"discount-2KgG4",icon:"icon-2qbN1",tagIcon:"tagIcon-1HYup",line:"line-2c1M2"}},96046:function(e){e.exports={container:"container-1r0qF",content:"content-LIP3X",titleWrap:"titleWrap-ZMAZU",title:"title-2MWl3",arrowRight:"arrowRight-2o-uw",close:"close-2GeDa",closeIcon:"closeIcon-1cqS8",listWrap:"listWrap-YUzcb",lineWrap:"lineWrap-3S3bI",item:"item-3JCJc",goodsImgContainer:"goodsImgContainer-fJQet",goodsImg:"goodsImg-3bleV",tagWrap:"tagWrap-2ApsG",priceTag:"priceTag-37cF7",price:"price-3RBGY"}},6530:function(e){e.exports={wrap:"wrap-3PoGg",tagImg:"tagImg-3vRzJ",tagText:"tagText-PGxeo"}},58647:function(e){e.exports={wrap:"wrap-3pcAO",close:"close-2bCB9",closeIcon:"closeIcon-229qE",img:"img-3612k",goodsInfo:"goodsInfo-2TjsB",goodsName:"goodsName-Mkfrx",goodsDesc:"goodsDesc-2u41Y",strategy:"strategy-NMHGA",arrow:"arrow-222UY",enhanceLayer:"enhanceLayer-2InBw",imgWrap:"imgWrap-1Xs4t",imgTag:"imgTag-gypPd",tag:"tag-1buIT"}},12644:function(e){e.exports={container:"container-3HhWh",content:"content-1DRQP",avatarImage:"avatarImage-1L5nk",avatar:"avatar-2hQep"}},3064:function(e){e.exports={defaultContainer:"defaultContainer--dF6n",inner:"inner-1gGMC",expandContent:"expandContent-2UrUZ",expandContainer:"expandContainer-3nkRD",noHover:"noHover-3qPuH",showExpandAni:"showExpandAni-DpVmT",showBoxShadow:"showBoxShadow-2xK2-"}},41776:function(e){e.exports={container:"container-3iPFs",marketPrice:"marketPrice-2_eP4",discount:"discount-kRZx7"}},28037:function(e){e.exports={wrap:"wrap-2lts5",processWrap:"processWrap-1XGFi",withCart:"withCart-1Dbrp",process:"process-3gPf9",textLine:"textLine-2k1f0",fireIcon:"fireIcon-D-ELf",txt:"txt-qgwvJ"}},4606:function(e){e.exports={container:"container-1ZUTx",content:"content-2HqOI",titleWrap:"titleWrap-2V5N6",title:"title-cm_Cn",arrowRight:"arrowRight-1dFCl",close:"close-1ZfmD",closeIcon:"closeIcon-2OHL-",listWrap:"listWrap-3YArX",list:"list-2kHcy",items:"items-m0_At",item:"item-2IS1R",goodsImgContainer:"goodsImgContainer-1bF9y",goodsImg:"goodsImg-2fs0H",goodsPriceWrap:"goodsPriceWrap-2NXCP",goodsPrice:"goodsPrice-3sNZs",price:"price-2q13F",pricePrefix:"pricePrefix-1ky0z",priceSuffix:"priceSuffix-1_ydN",isSmall:"isSmall-3MJPj",viewMoreWrap:"viewMoreWrap-29dQi",viewMoreTextWrap:"viewMoreTextWrap-3KGY_",viewMoreLogo:"viewMoreLogo-3V2-v",viewMoreText:"viewMoreText-1pYb5",arrowCls:"arrowCls-3byf6",enhanceLayer:"enhanceLayer-1wGpy"}},41222:function(e){e.exports={video:"video-2LlV5",videoPlay:"videoPlay-1JQ-6"}},91061:function(e){e.exports={mallTagsWrap:"mallTagsWrap-2bDdv",item:"item-1S89K",icon:"icon-3eiab",suffixLogo:"suffixLogo-3urrE",text:"text-2O_rg"}},31509:function(e){e.exports={payTagWrap:"payTagWrap-3pGkS",text:"text-3LMFX",imgWrap:"imgWrap-tOB9F",img:"img-2fvgO"}},41989:function(e){e.exports={skcWrapper:"skcWrapper-1QcBu",skcListWrapper:"skcListWrapper-3oZ0J",bubbleWrap:"bubbleWrap-3N42h",skcItemWrapper:"skcItemWrapper-1-B7Y",bubbleArrowWrap:"bubbleArrowWrap-2FkYh",bubbleArrow:"bubbleArrow-16uni",active:"active-2jY75",skcWrapper8:"skcWrapper8-V04zg",skcImg:"skcImg-2qoSw",skcNumWrap:"skcNumWrap-A6JWh",skuNumBlank:"skuNumBlank-NgqtE",skuNumMain:"skuNumMain-3lfvD",skcNum:"skcNum-2uTaI",skcWrapperLess8:"skcWrapperLess8-3rTsh"}},62937:function(e){e.exports={headTagWrap:"headTagWrap-2c3DO"}},68790:function(e){e.exports={localTag:"localTag-3LZD6",hasBg:"hasBg-277hv",icon:"icon-1xf9s",text:"text-Hgkh_"}},34404:function(e){e.exports={container:"container-3vtIT",content:"content-38znH",header:"header-3UsTK",singleLine:"singleLine-1Tcov",footer:"footer-2Q3mW",footerText:"footerText-3z5Yi",countDown:"countDown-2K2O2",double:"double-3asVj",isCenter:"isCenter-3DYcj",promotionStyle1:"promotionStyle1-3IQrR",showFlashSeparator:"showFlashSeparator-ukN4w",flashClockImg:"flashClockImg-2YSvh",image:"image-2oyAX",sixCard:"sixCard-2D0Oj",isCountDownDays:"isCountDownDays-1cdrN",isMore:"isMore-cYsL8",flashLine:"flashLine-1Km2N"}},12635:function(e,t,n){"use strict";n.d(t,{Z:function(){return Kn}});var a=n(87612),o=n(94761),r=n(12330),i=(n(31002),n(36867),n(91560),n(87184)),l=n(72779),s=n.n(l),c=n(85453),u=n(34276),d=n(81862),m=n(62960),g=n(5163),f=(n(69632),n(87246),n(93801),n(17385),n(60452),n(23395),n(78529),n(44936),n(44718),n(79417)),p=n(40312),v=n(6552),h=n(44408),T=n(34379),b=n(95239),_=n(78707),w=n(94872),k=n(73686),y=n(13980),E=n.n(y),S=n(90382),I=n(74411);function C(e){var t=e.rootMargin,n=e.rootRef,a=e.children,l=(0,r._)(e,["rootMargin","rootRef","children"]),s=(0,m._)((0,i.useState)(null),2),c=s[0],u=s[1],d=void 0===n,g=d?(0,i.useRef)(null):n;(0,i.useEffect)((function(){var e={thresholds:t};g&&(e.container=g.current);var n=new S.Z(e);return u(n),function(){return n.destroy()}}),[]);var f=(0,i.useMemo)((function(){return{lazyLoader:c}}),[c]);return i.createElement(I.Z.Provider,{value:f},d?i.createElement("div",(0,o._)({ref:g},l),a):a)}C.propTypes={rootMargin:E().string,rootRef:E().object,children:E().node.isRequired,thresholds:E().string},C.defaultProps={rootMargin:"300px",thresholds:"300px"};var x=n(96910),N=n(30593),P=n(3207),L=n(26586),W=n(91455),M=n(7872),A=n(6232),D=n(22650),R=n(40846),G=n(8073),O=n(32717),z=n(1717),U=n(21737),H=n(24376),F=(n(45483),n(81959)),B=n(13560),Z=n(3522),q=n.n(Z),j=function(e){var t=e.children,n=e.style,a=void 0===n?{}:n,o=e.className,r=void 0===o?"":o;return i.createElement("div",{className:s()(q().attributesTag,r),style:a},t)},J=function(e){var t=e.tags,n=e.grayConfig,a=e.localInfo,o=(null==n?void 0:n.cp85771)||{},r=o.value,i=o.supportRegion,l=void 0===i?[]:i,s=r&&(null==l?void 0:l.includes(+a.region)),c=null==t?void 0:t.find((function(e){return(null==e?void 0:e.tagId)===B.xI.LocalWareHouse})),u=(null==t?void 0:t.map((function(e){return null==e?void 0:e.text})))||[];return{needCarousel:s&&!!c&&(null==u?void 0:u.length)>=2,textList:u}},K=(0,_.Pf)((function(e){var t=e.tags,n=void 0===t?[]:t,o=e.className,r=void 0===o?"":o,l=e.lazy,c=e.grayConfig,u=e.goodsId,d=e.textClassName,g=(0,W.lO)(),f=g.supportWebp,p=g.localInfo,v=(null==n?void 0:n[0])||{},h=v.text,T=v.color,b=v.url,_=v.tagId,w=v.backColor,y=(0,i.useRef)(null),E=(0,i.useRef)(null),S=(0,m._)((0,i.useState)({}),2),I=S[0],C=S[1],x=(0,m._)((0,i.useState)(!1),2),N=x[0],P=x[1],L=null==n?void 0:n.find((function(e){return(null==e?void 0:e.tagId)===B.xI.LocalWareHouse})),M=b,A=T,D=J({tags:n,grayConfig:c,localInfo:p}),R=D.needCarousel,G=D.textList;if(R){var O=L||{};M=O.url,A=O.color}var z=function(e){var t=e.num,n=e.needCarousel,a=e.containerClassName,o=e.goodsId,r=e.listRef,l=e.perHeight,s=(0,m._)((0,i.useState)(""),2),c=s[0],u=s[1];return(0,i.useEffect)((function(){var e;if(n){var i=(null==r||null==(e=r.current)?void 0:e.childNodes)||[],s=[];(null==i?void 0:i.length)&&Array.prototype.forEach.call(i,(function(e){s.push((null==e?void 0:e.offsetWidth)?(null==e?void 0:e.offsetWidth)+1:"")})),function(){for(var e=3*t,n=100/t,r=2.7/e*100,i="loop-"+o,c="@keyframes "+i+" {\n",d=0;d<t;){var m=d*n,g=d*n+r,f=s[d],p="width: "+(f?f+"px":"auto")+";";c=c+(m+"% { transform: translateY(-")+d*l+"px); "+p+" }\n"+g+"% { transform: translateY(-"+d*l+"px); "+p+" }\n",d++}var v=s[0];u("."+a+" {\n            animation: "+i+" "+e+"s ease-out infinite;\n            }"+(c+="100% { transform: translateY(-"+t*l+"px); width: "+(v?v+"px":"auto")+"; }"))}()}}),[a,o,r,n,t,l]),c}({needCarousel:R,num:null==G?void 0:G.length,containerClassName:"textList-"+u,goodsId:u,perHeight:25,listRef:E});return(0,i.useEffect)((function(){var e={};try{if(!y.current)return void P(!0);if(!E.current||!R){var t=y.current.offsetWidth/y.current.scrollWidth,n=Math.max(t,10/13),a=Math.floor(13*n),o=y.current.dataset.tagId;return e[o]={fontSize:a+"px"},C(e),void P(!0)}var r=E.current.querySelectorAll(".tagText");Array.prototype.forEach.call(r,(function(t){return function(t){var n=t.offsetWidth,a=t.scrollWidth,o=t.dataset.tagId;if(!(a<=n)){var r=n/a,i=Math.max(r,10/13),l=Math.floor(13*i);e[o]={fontSize:l+"px"}}}(t)})),C(e),P(!0)}catch(e){(0,F.K2)(e)}}),[R,13]),h?i.createElement(j,{className:s()(r,(0,a._)({},q().newStyle,!0)),style:{color:A,opacity:N?1:0,background:w}},!!z&&i.createElement("style",null,z),!!M&&i.createElement(k.ZP,{lazy:l,src:M,className:q().img,"aria-hidden":!0,processParam:{webpEnable:f},alt:""}),R?i.createElement("div",{className:q().textListWrap},i.createElement("div",{className:"textList-"+u,ref:E},null==n?void 0:n.map((function(e){var t=e||{},n=t.text,a=t.tagId;return i.createElement("span",{className:s()(q().text,"tagText",d),"data-tag-id":a,style:I[a]},n)})),i.createElement("span",{className:s()(q().text,q().limitWidth,d),ref:y,style:I[_]},h))):i.createElement("span",{className:s()(q().text,d),"data-tag-id":_,style:I[_],ref:y},h)):null})),Y=(0,i.memo)(K),V=n(95594),X=n.n(V),Q=(0,_.Pf)((0,i.memo)((function(e){var t=e.data,n=e.className,a=e.style,r=(null==t?void 0:t[0])||{},l=r.text,c=r.iconImg,u=r.backColor,d=r.color;return l?i.createElement("div",{className:s()(X().capsuleTag,n),style:(0,o._)({background:u,color:d},a||{})},!!c&&i.createElement(k.ZP,{src:c,className:X().icon}),i.createElement("span",{className:X().text},l)):null}))),$=n(38499),ee=n.n($),te=(0,_.Pf)((0,i.memo)((function(e){var t,n,r,l,c,u=e.imageLazy,d=e.data,g=e.imageProcessParam,f=e.onMouseDownCart,p=e.onQuickLookClick,v=e.addCartTrackingInfo,h=e.classConfig,T=e.grayConfig,b=(0,i.useRef)(null),y=(0,i.useRef)(null),E=(0,m._)((0,i.useState)(),2),S=E[0],I=E[1],C=(0,w.$)("bec-fe.bui-web-goods-list").t,x=d.goodsInfo,N=d.quickLook,P=x||{},L=P.tagsInfo,M=P.quickLook,A=P.video,D=P.goodsId,R=P.title,G=P.pageAlt,O=A||{},F=O.videoUrl,B=O.iconUrl,Z=L||{},q=Z.goodsAttributesTags,j=Z.capsuleTags,J=(0,W.lO)().isCrawler,K=(0,o._)({open:!0},M||{},N||{}),V=!!(null==q||null==(t=q[0])?void 0:t.text),X=!!F&&!!B,$=(null==K?void 0:K.open)&&!J&&!X,te=X||$||!!(null==q||null==(n=q[0])?void 0:n.text)||(null==j||null==(r=j[0])?void 0:r.text);if((0,i.useEffect)((function(){var e,t=function(){if(b.current&&y.current){var e=2*(b.current.offsetWidth/2-y.current.offsetWidth-6);I(e<46?{opacity:0}:{maxWidth:e})}};if(null==j||null==(e=j[0])?void 0:e.text){t();var n=(0,z.D)(t,100);return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}}),[j]),!te)return null;var ne=V||X;return i.createElement("div",{className:ee().quickLookAndAttributesTags},!!$&&i.createElement(U.IH,{className:"quickLook",id:"QuickLook-"+D,title:((null==K||null==(l=K.text)?void 0:l.text)||C("quickLookBtn")||"")+" - "+(R||"")},i.createElement(H.Z,(0,o._)({onMouseDown:f},K,{addCart:p,trackingInfo:v,classConfig:null==h?void 0:h.quickLook}))),i.createElement("div",{className:"hoverHidden",ref:b},!!ne&&i.createElement("div",{className:ee().attrs,ref:y},V?i.createElement(_.SV,null,i.createElement(Y,{className:"attributesWrap",tags:q,lazy:u,grayConfig:T,goodsId:D})):X&&i.createElement(k.ZP,{lazy:u,src:B,className:s()(ee().videoIconUrl,(0,a._)({},ee().hasAttribute,V)),"aria-hidden":!0,alt:G||R,processParam:g})),!!(null==j||null==(c=j[0])?void 0:c.text)&&i.createElement(Q,{data:j,style:S})))}))),ne=n(23439),ae=n(62937),oe=n.n(ae),re=function(e){var t=e.className,n=e.data,a=((null==n?void 0:n.extMap)||{}).discountPromotionTag,o=("string"==typeof a?(0,h.as)(a,{}):a)||{},r=o.text_color,l=o.bg_url,c=o.height,u=o.text,d=o.text_dx,m=o.width;return l&&c&&m?i.createElement("div",{style:{width:m,height:c,lineHeight:c+"px",backgroundImage:"url("+l+")",color:r,paddingInlineStart:d},className:s()(oe().headTagWrap,t)},u):null},ie=n(68790),le=n.n(ie),se=(0,i.memo)((function(e){var t=e.data,n=e.className,o=(e.lazy,t||{}),r=o.text,l=o.color,c=o.backColor;return r?i.createElement("div",{style:{color:l,background:c},className:s()(le().localTag,n,(0,a._)({},le().hasBg,!!c))},i.createElement("span",{className:le().text},r)):null})),ce=(n(69867),n(6341)),ue=n.n(ce),de={1:"normal",2:"500",3:"700",4:"400"},me=(0,i.memo)((function(e){var t,n=e.data,a=e.className,o=(n||{}).extMap;if(!(null==o?void 0:o.activityDiscountWatermark))return null;try{t=JSON.parse(null==o?void 0:o.activityDiscountWatermark)}catch(e){}var r=t||{},l=r.first_part_text,c=r.second_part_text,u=r.text_color,d=r.bg_color,m=r.first_part_text_font_style,g=r.second_part_text_font_style;if(!l&&!c)return null;var f=l&&c;return i.createElement("div",{style:{color:u,background:d},className:s()(ue().tag,a)},!!l&&i.createElement("span",{className:ue().firstText,style:{fontWeight:de[m]}},l),!!f&&i.createElement("div",{className:ue().line}),!!c&&i.createElement("span",{style:{fontWeight:de[g]}},c))})),ge=n(51532),fe=n.n(ge),pe=(0,i.memo)((function(e){var t,n=e.titleHeaderTags,o=e.className,r=e.lazy;if(!(null==n?void 0:n.length))return null;var l=!!(null==n||null==(t=n.find((function(e){return(null==e?void 0:e.marketingTagType)===B.s7.localWareHouseTag})))?void 0:t.backColor);return i.createElement("div",{className:s()(fe().titleTagWrap,(0,a._)({},fe().top,l),o)},null==n?void 0:n.map((function(e,t){var n=(e||{}).marketingTagType;return n===B.s7.titleHeaderPromotionTag?i.createElement(re,{data:e,className:fe().titleTag,key:t+"-"+n}):n===B.s7.localWareHouseTag?i.createElement(se,{data:e,className:fe().titleTag,lazy:!!r,key:t+"-"+n}):n===B.s7.discountTag?i.createElement(me,{data:e,className:fe().titleTag,key:t+"-"+n}):void 0})))})),ve=n(12969),he=function(e){var t=e.data,n=e.className,a=(t||{}).tagRichText;return a?i.createElement(ve.Fv,{newRichText:a,style:{textAlign:"left"},className:n}):null},Te=n(98809),be=n(85938),_e=n(16353),we=n(20441),ke=n.n(we),ye=(0,_.Pf)((function(e){var t=e.data,n=e.className,o=(null==t?void 0:t[0])||{},r=o.text,l=o.url;return r?i.createElement(_e.Z,{className:s()(ke().wrap,n,(0,a._)({},ke().link,!!l)),gap:24},i.createElement("span",{onClick:function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),l&&(0,be.xw)((0,be.YK)(l))}},r),!!l&&i.createElement(Te.Z,{className:ke().icon})):null})),Ee=(0,i.memo)(ye),Se="discount_price_timeout",Ie="discount_price_info_update",Ce={},xe=n(2642),Ne=n(4628),Pe=function(e){var t=e.personalizationTagRef,n=e.efficiencyTagWidth,a=(0,m._)((0,i.useState)(!n),2),o=a[0],r=a[1];return(0,i.useEffect)((function(){var e;if(t.current&&n){var a,o=(null!=(a=null==(e=t.current.parentNode)?void 0:e.clientWidth)?a:0)-10,i=t.current.offsetWidth;r(!(i+n>o))}}),[n,t]),{showPersonalization:o}},Le=n(94618),We=n(34185),Me=n(35565),Ae=(n(65845),n(99492),n(22979),n(91211),n(70309),n(69460),n(44507)),De={cbList:[],goodsNumMap:{},instance:null,addGoodsIdList:[],reduceGoodsIdList:[]},Re=function(e){De.cbList.find(e)||De.cbList.push(e)},Ge=function(e){if(De.cbList.find(e)){var t=De.cbList.filter((function(t){return t!==e}));De.cbList=t}},Oe=function(){De.instance=(0,Ae.Kd)((function(e){var t=(e||{}).cartGoodsNumMap;if(t)try{for(var n=[],a=[],o=Object.keys(De.goodsNumMap||{}),r=Object.keys(t||{}),i=Array.from(new Set((0,Me._)(o).concat((0,Me._)(r)))),l=i.length,s=0;s<l;s++){var c=i[s],u=t[c]||0,d=De.goodsNumMap[c]||0;u!==d&&(u>d?a.push(+c):n.push(+c))}De.goodsNumMap=t,De.addGoodsIdList=a,De.reduceGoodsIdList=n,De.cbList.forEach((function(e){try{e({addGoodsIdList:a,reduceGoodsIdList:n,goodsNumMap:De.goodsNumMap})}catch(e){(0,F.K2)(e)}}))}catch(e){(0,F.K2)(e)}}))},ze=function(){"function"==typeof De.instance&&De.instance()};function Ue(e){var t,n,a=e.unique_id,o=e.goods_id,r=e.item;return a?""+((null==r||null==(t=r.data)?void 0:t.uniqueId)||(null==r?void 0:r.uniqueId))==""+a:""+((null==r||null==(n=r.data)?void 0:n.goodsId)||(null==r?void 0:r.goodsId))==""+o}var He=function(e,t,n,a){var r=a||{},i=r.onSkuPanelClose,l=r.onSkuPanelClear,s=t||{},c=s.goods_id,u=s.unique_id,d=(s.status||{}).un_add_cart;if(!c&&!u)return e;var m,g,f,p,v,h,T,b,_,w,k=n||{},y=k.isBackAutoShowCategoryCard,E=k.isShowSimilar,S=!1,I=e.find((function(e){return Ue((0,o._)({},t||{},{item:e}))})),C=I&&(b=(null==(m=I)||null==(f=m.data)||null==(g=f.extendFields)?void 0:g.gdReturnShowOpt)||(null==m||null==(p=m.extendFields)?void 0:p.gdReturnShowOpt),_=(null==m||null==(h=m.data)||null==(v=h.extendFields)?void 0:v.showSimilarItemsOnSkuClose)||(null==m||null==(T=m.extendFields)?void 0:T.showSimilarItemsOnSkuClose),w=(0,o._)({},m,{autoShowCategoryCardCount:0,autoShowSimilarCount:0}),l?(S=!0,w):E&&_&&i?(S=!0,(0,o._)({},w,{autoShowSimilarCount:m.autoShowSimilarCount||1})):y&&b&&d?(S=!0,(0,o._)({},w,{autoShowCategoryCardCount:m.autoShowCategoryCardCount||1})):w),x=e.map((function(e){return Ue((0,o._)({},t||{},{item:e}))?C:(0,o._)({},e,{autoShowCategoryCardCount:C&&C.autoShowCategoryCardCount>0?0:e.autoShowCategoryCardCount||0,autoShowSimilarCount:e.autoShowSimilarCount||0})}));return S?x:e},Fe=function(e){var t=e.setDatasource,n=e.props,a=n||{},o=a.isBackAutoShowSimilar,r=a.isBackAutoShowCategoryCard,l=a.privateListId,s=o||r;(0,i.useEffect)((function(){if(s){Oe();var e=function(e){var a=(e||{}).addGoodsIdList;try{var o=Ce["lastClickGoodsInfo"];if(!(null==o?void 0:o.goodsId))return;if((null==o?void 0:o.privateListId)!==l)return;t((function(e){try{var t;!function(e){delete Ce[e]}("lastClickGoodsInfo");var r=e.find((function(e){var t,n;return o.uniqueId?(null==(n=e.data)?void 0:n.uniqueId)===o.uniqueId:(null==(t=e.data)?void 0:t.goodsId)===o.goodsId}));return r?(null==a?void 0:a.includes(null==(t=r.data)?void 0:t.goodsId))?e:He(e,{goods_id:r.data.goodsId,unique_id:r.data.uniqueId,status:{un_add_cart:!0}},n):e}catch(t){return(0,F.K2)(t),e}}))}catch(e){}};return Re(e),function(){s&&(Ge(e),ze())}}}),[])},Be=n(53835),Ze=n(95066),qe=n(80471),je=(n(67904),n(57205)),Je=n(58189),Ke=n(31859),Ye=function(e,t){var n,a=(0,W.lO)()||{},r=(0,w.$)("bec-fe.svg-icons-h5"),l=r.t,s=r.i18n,c="M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 40.1c-260.6 0-471.9 211.3-471.9 471.9 0 260.6 211.3 471.9 471.9 471.9 260.6 0 471.9-211.3 471.9-471.9 0-260.6-211.3-471.9-471.9-471.9z m-37.9 303.6l2.7 2.4 144.6 150.6c7.2 7.5 8 18.8 2.4 27.2l-2.4 3-144.6 151c-8.3 8.7-22.1 9-30.8 0.7-7.8-7.5-8.9-19.4-2.9-28.1l2.2-2.7 130.1-135.9-130.1-135.7c-8.3-8.7-8.1-22.5 0.6-30.8 7.8-7.5 19.8-8 28.2-1.7z",u="M512 0c-282.8 0-512 229.2-512 512 0 282.8 229.2 512 512 512 282.8 0 512-229.2 512-512 0-282.8-229.2-512-512-512z m0 40.1c260.6 0 471.9 211.3 471.9 471.9 0 260.6-211.3 471.9-471.9 471.9-260.6 0-471.9-211.3-471.9-471.9 0-260.6 211.3-471.9 471.9-471.9z m37.9 303.6l-2.7 2.4-144.6 150.6c-7.2 7.5-8 18.8-2.4 27.2l2.4 3 144.6 151c8.3 8.7 22.1 9 30.8 0.7 7.8-7.5 8.9-19.4 2.9-28.1l-2.2-2.7-130.1-135.9 130.1-135.7c8.3-8.7 8.1-22.5-0.6-30.8-7.8-7.5-19.8-8-28.2-1.7z",d=(0,i.useMemo)((function(){var e,t,n;return("boolean"==typeof a.isRTL?a.isRTL:"rtl"===(null==(n=document)||null==(t=n.documentElement)||null==(e=t.getAttribute)?void 0:e.call(t,"dir")))?u:c}),[a.isRTL,u,c]);return i.createElement(Ke.l,(0,o._)({},e,{"aria-label":null!=(n=e["aria-label"])?n:s.exists("aria-label.TongyongChakansuoyou",{ns:"bec-fe.svg-icons-h5"})?l("aria-label.TongyongChakansuoyou"):void 0,ref:t,path:d}))},Ve=i.forwardRef(Ye),Xe=n(12436),Qe=n.n(Xe),$e=n(25057),et=n(50232),tt=n.n(et);var nt=function(e){var t=e.column,n=e.len,o=e.renderCustomPageTurner,r=e.classConfig,l=(0,W.lO)().isRTL,c=(0,i.useRef)(null),u=(0,m._)((0,i.useState)(1),2),d=u[0],g=u[1],f=(0,m._)((0,i.useState)([]),2),p=f[0],v=f[1],h=l?1:-1,T=d-1,b=(0,i.useMemo)((function(){return T+t>=n?{transform:"translate3d("+(p[n-1]||0)*h+"px, 0px, 0px)"}:{transform:"translate3d("+(p[T]||0)*h+"px, 0px, 0px)"}}),[T,p]),_=(0,i.useCallback)((function(){g(1)}),[]),w=(0,i.useCallback)(Qe()((function(){var e=[],t=c.current;if(!t)return v([]);for(var n=t.children,a=t.getBoundingClientRect()||{},o=l?a.right:a.left,r=t.scrollWidth-t.clientWidth,i=0;i<n.length;i++){var s=n[i].getBoundingClientRect()||{};e.push(Math.min(Math.abs((l?s.right:s.left)-o),r))}return v(e)}),30),[]);(0,i.useEffect)((function(){if(c.current)return w(),window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}}),[]);var k=function(e,a){if(null==a||a.stopPropagation(),null==a||a.preventDefault(),c.current){var o="next"===e?d+t:d-t,r=Math.min(Math.max(o,1),n-t+1);w(),g(r)}};return{slidesRef:c,listStyle:b,renderPageTurner:function(){return n<=t?null:o?o({cardNo:d,onArrowClick:k,column:t,len:n}):i.createElement(i.Fragment,null,i.createElement("div",{className:s()(tt().arrowWrap,tt().arrowLeft,null==r?void 0:r.arrowCls)},i.createElement("div",{className:s()(tt().arrow,(0,a._)({},tt().hide,0===T)),onClick:function(e){return k("prev",e)}},i.createElement($e.Z,{className:tt().innerArrowLeft}))),i.createElement("div",{className:s()(tt().arrowWrap,tt().arrowRight,null==r?void 0:r.arrowCls)},i.createElement("div",{className:s()(tt().arrow,(0,a._)({},tt().hide,T+t>=n)),onClick:function(e){return k("next",e)}},i.createElement(je.Z,{className:tt().innerArrowRight}))))},onArrowClick:k,resetCardNo:_}},at=n(58317),ot=n(4606),rt=n.n(ot),it=function(e){var t=(0,w.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,r=e.title,l=void 0===r?t("similar.title"):r,c=e.linkURL,u=e.goodsList,m=e.viewMoreText,f=void 0===m?t("similar.viewMore"):m,p=e.onClose,v=e.onClickTitle,h=e.onClickViewMoreBtn,T=e.loggerParams,y=e.webpEnable,E=e.commonTrackingInfo,S=e.trackingGoodsInfo,I=e.isSmall,C=e.pageSn,P=nt({column:3,len:u.length+1,classConfig:{arrowCls:rt().arrowCls}}),L=P.slidesRef,W=P.listStyle,M=P.renderPageTurner,A=null!=T?T:{},R=A.main,G=void 0===R?205632:R,O=A.title,z=void 0===O?205652:O,U=A.viewMore,H=void 0===U?205633:U,F=A.goods,B=void 0===F?205634:F,Z=(0,o._)({},E||{},S||{},{main_goods_id:n,source_goods_id:n}),q=(0,i.useCallback)((function(e,t){return(0,d._)((function(){return(0,g.Jh)(this,(function(n){switch(n.label){case 0:return[4,(0,x.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,xe.jm)((0,b.ru)({refer_page_el_sn:B},(0,qe.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[Z]),j=(0,i.useCallback)((0,d._)((function(e){return(0,g.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,x.ax)({page_el_sn:H}).catch((function(){}))];case 1:return t.sent(),h?h(e):c&&(0,xe.jm)((0,qe.av)(c),{openTarget:"_blank"}),[2]}}))})),[]),J=(0,i.useCallback)((0,d._)((function(e){return(0,g.Jh)(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,x.ax)({page_el_sn:z}).catch((function(){}))];case 1:return t.sent(),v?v(e):c&&(0,xe.jm)((0,qe.av)(c),{openTarget:"_blank"}),[2]}}))})),[]);if(!u||0===u.length)return null;var K=(f||"").slice(0,8);return(f||"").slice(8).split("").forEach((function(e){e&&(K+=" "===e?" ":e+"­")})),i.createElement(N.ZP,{payload:(0,o._)({},Z,{page_el_sn:G})},i.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},className:rt().enhanceLayer},i.createElement(at.Z,{HWRatio:"calc(42.1875% + 34px)",className:rt().container,childContainerClassName:rt().content},i.createElement(N.ZP,{payload:(0,o._)({},Z,{page_el_sn:z})},i.createElement("div",{className:rt().titleWrap},i.createElement("div",{className:rt().title,onClick:J},l,i.createElement(je.Z,{className:rt().arrowRight})),i.createElement("div",{className:rt().close,onClick:p},i.createElement(Je.Z,{className:rt().closeIcon})))),i.createElement("div",{className:rt().listWrap},i.createElement("div",{className:rt().list},i.createElement("div",{className:rt().items,ref:L,style:W},u.map((function(e,t){var n,r=e.seoLinkUrl,l=e.linkUrl,c=e.priceInfo,u=e.goodsId,d=e.pRec,m=e.pSearch,g=e.extendFields,f=e.complianceInfo,p=null!=d?d:{},v=p.show_price,h=p.show_currency,T=p.show_sales,w=(g||{}).engIcon,E=(0,o._)({},Z,{page_el_sn:B,goods_id:u,rec_goods_id:u,idx:t,p_rec:JSON.stringify(d),p_search:m,show_price:v,show_currency:h,show_sales:T}),S=(0,qe.Ig)(c,"",C,u),x=S.unitPrefix,P=S.showPriceStr,L=S.unitSuffix,W=S.priceColor,M=(0,o._)({},W?{color:W}:{});return i.createElement(N.ZP,{key:e.goodsId,payload:E},i.createElement("div",{className:rt().item,onClick:q(E,r||l)},i.createElement(at.Z,{HWRatio:1,className:rt().goodsImgContainer},i.createElement(k.ZP,{src:(0,b.Hm)(e.hdThumbUrl||e.thumbUrl||(null==(n=e.image)?void 0:n.url)||""),className:rt().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:y},alt:e.title||e.goodsName||"","aria-hidden":!0}),!!(null==w?void 0:w.engThumbUrl)&&!(null==f?void 0:f.iconInfo)&&i.createElement(ne.Z,{data:w,goodsId:u,size:"s"}),i.createElement(_.SV,null,(null==f?void 0:f.iconInfo)&&i.createElement(D.Z,{data:null==f?void 0:f.iconInfo,type:4}))),i.createElement("div",{className:rt().goodsPriceWrap},i.createElement("div",{className:rt().goodsPrice,style:M},x?i.createElement("span",{className:rt().pricePrefix},x):null,i.createElement("span",{className:s()(rt().price,(0,a._)({},rt().isSmall,I))},P),L?i.createElement("span",{className:rt().priceSuffix},L):null))))})),i.createElement(N.ZP,{payload:(0,o._)({},Z,{page_el_sn:H})},i.createElement("div",{className:s()(rt().viewMoreWrap),onClick:j},i.createElement("div",{className:rt().viewMoreTextWrap},i.createElement(Ve,{className:rt().viewMoreLogo}),i.createElement("div",{className:rt().viewMoreText},K)))))),M()))))},lt=(0,i.memo)(it),st=n(4790),ct=n(96046),ut=n.n(ct),dt=(0,_.Pf)((0,i.memo)((function(e){var t=(0,w.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,a=e.title,r=void 0===a?t("similar.title"):a,l=e.linkURL,s=e.goodsList,c=e.onClose,u=e.onClickTitle,m=e.loggerParams,f=e.webpEnable,p=e.commonTrackingInfo,v=e.trackingGoodsInfo,h=e.pageSn,T=null!=m?m:{},_=T.main,y=void 0===_?205632:_,E=T.title,S=void 0===E?205652:E,I=T.goods,C=void 0===I?205634:I,P=(0,o._)({},p||{},v||{},{main_goods_id:n,source_goods_id:n}),L=(0,i.useCallback)((function(e,t){return(0,d._)((function(){return(0,g.Jh)(this,(function(n){switch(n.label){case 0:return[4,(0,x.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,xe.jm)((0,b.ru)({refer_page_el_sn:C},(0,qe.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[C]),W=(0,i.useCallback)((0,d._)((function(e){return(0,g.Jh)(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,x.ax)({page_el_sn:S}).catch((function(){}))];case 1:return t.sent(),u?u(e):l&&(0,xe.jm)((0,qe.av)(l),{openTarget:"_blank"}),[2]}}))})),[]);if(!s||0===s.length)return null;var M=function(e,t){var n=e.seoLinkUrl,a=e.linkUrl,r=e.priceInfo,l=e.goodsId,s=e.pRec,c=e.pSearch,u=e.extendFields,d=e.hdThumbUrl,m=e.thumbUrl,g=e.image,p=e.title,v=e.goodsName,T=null!=s?s:{},_=T.show_price,w=T.show_currency,y=T.show_sales,E=(u||{}).engIcon,S=(0,o._)({},P,{page_el_sn:C,goods_id:l,rec_goods_id:l,idx:t,p_rec:JSON.stringify(s),p_search:c,show_price:_,show_currency:w,show_sales:y}),I=(0,qe.Ig)(r,"",h,l),x=I.unitPrefix,W=I.showPriceStr,M=I.unitSuffix,A=I.priceColor,D=(0,o._)({alignItems:M?"baseline":"center"},A?{color:A}:{});return i.createElement(N.ZP,{key:l,payload:S},i.createElement("div",{className:ut().item,onClick:L(S,n||a)},i.createElement(at.Z,{HWRatio:1,className:ut().goodsImgContainer},i.createElement(k.ZP,{src:(0,b.Hm)(d||m||(null==g?void 0:g.url)||""),className:ut().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:f},alt:p||v||"","aria-hidden":!0}),!!(null==E?void 0:E.engThumbUrl)&&i.createElement(ne.Z,{data:E,goodsId:l,size:"s"}),i.createElement("div",{className:ut().tagWrap},i.createElement(st.V,{type:"gray",className:ut().priceTag},i.createElement("div",{style:D,className:ut().price},x?i.createElement("span",null,x):null,i.createElement("span",null,W),M?i.createElement("span",null,M):null))))))},A=s.slice(0,2).map(M),D=s.slice(2,4).map(M);return i.createElement(N.ZP,{payload:(0,o._)({},P,{page_el_sn:y})},i.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()}},i.createElement(at.Z,{HWRatio:"calc(100% + 18px)",className:ut().container,childContainerClassName:ut().content},i.createElement(N.ZP,{payload:(0,o._)({},P,{page_el_sn:S})},i.createElement("div",{className:ut().titleWrap},i.createElement("div",{className:ut().title,onClick:W},i.createElement("span",null,r),i.createElement(je.Z,{className:ut().arrowRight})),i.createElement("div",{className:ut().close,onClick:c},i.createElement(Je.Z,{className:ut().closeIcon})))),i.createElement("div",{className:ut().listWrap},i.createElement("div",{className:ut().lineWrap},A),i.createElement("div",{className:ut().lineWrap},D)))))}))),mt=n(6530),gt=n.n(mt),ft={1:400,2:500,3:600},pt=function(e){var t,n=e.data,a=e.className,o=e.lazy,r=void 0===o||o;if(!(null==n?void 0:n.length))return null;var l=(null==n?void 0:n[0])||{},c=null==n||null==(t=n[0])?void 0:t.header;if(!(null==l?void 0:l.pw)&&!(null==l?void 0:l.ph))return null;var u={width:256*l.pw+"px",height:256*l.ph+"px",background:l.backColor},d=c&&{fontSize:(null==c?void 0:c.font)+"px",color:null==c?void 0:c.color,fontWeight:ft[null==c?void 0:c.textStyle]}||{};return i.createElement("div",{style:u,className:s()(gt().wrap,a)},(null==l?void 0:l.url)?i.createElement(k.ZP,{alt:null==c?void 0:c.text,src:null==l?void 0:l.url,className:gt().tagImg,lazy:r,"aria-hidden":!0}):null,c?i.createElement("div",{style:d,className:gt().tagText},null==c?void 0:c.text):null)},vt=(0,i.memo)(pt),ht=n(29108),Tt=n(6932),bt=n(93112),_t=n(47321),wt=n(58647),kt=n.n(wt);function yt(e){var t,n=e.pageSn,r=e.goodsId,l=e.closeCategoryCard,c=e.lazy,u=e.webpEnable,f=e.commonTrackingInfo,p=e.trackingGoodsInfo,h=(0,P.X2)(),T=(0,m._)((0,i.useState)({}),2),b=T[0],_=T[1],w=(0,m._)((0,i.useState)(!1),2),y=w[0],E=w[1],S=(0,i.useRef)(),I=b.optName,C=b.imageUrl,L=b.strategy,W=b.linkUrl,M=b.optId,A=b.pRec,D=b.optType,R=void 0===D?"":D,G=b.strategyColor,O=b.imageTag,z=(0,o._)({},f||{},p||{},(t={page_el_sn:212491,goods_id:r,opt_id:M,text:L,opt_level:R},(0,a._)(t,"opt_cate"+R+"_id",M),(0,a._)(t,"opt_cate_idx",0),(0,a._)(t,"p_rec",JSON.stringify(A)),t));(0,i.useEffect)((function(){h.start({type:"click"}),h.stageStart("api");var e={listId:(0,v.x)(),offset:0,pageSize:-1,pageSn:n,scene:"gd_return_opt",mainGoodsId:r};(0,Ze.S6)({url:(0,Ze.mx)("/api/poppy/v1/opt_list",e),params:e,config:{useAntiToken:!0}}).then((function(e){var t;h.stageEnd("api");var n=e.result,a=(null==(t=(void 0===n?{}:n).data.crumbOptList)?void 0:t[0])||{};_(a)})).catch((function(){}))}),[]);var U=O||{},H=U.text,F=U.color,B=U.bgColor;(0,i.useEffect)((function(){try{if(!H)return;if(!S.current)return;var e=S.current.offsetWidth/S.current.scrollWidth,t=Math.max(10,12*e);S.current.style.fontSize=t+"px",S.current.style.fontWeight="400"}catch(e){}finally{E(!0)}}),[H]);var Z=(0,i.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,x.ax)({page_el_sn:212492}),l()}),[l]),q=(0,i.useCallback)((0,d._)((function(e){return(0,g.Jh)(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),null==e||e.stopPropagation(),[4,(0,x.ax)(z).catch((function(){}))];case 1:return t.sent(),(0,xe.jm)(W,{openTarget:"_blank"}),[2]}}))})),[W]);return I&&L&&W?i.createElement(N.ZP,{payload:z},i.createElement("div",{className:s()(kt().wrap,kt().enhanceLayer),onClick:q,style:{opacity:y?1:0}},i.createElement("div",{className:kt().close,onClick:Z},i.createElement(Je.Z,{className:kt().closeIcon})),i.createElement("div",{className:kt().imgWrap},i.createElement(k.ZP,{lazy:c,src:C,className:kt().img,"aria-hidden":!0,alt:L,processParam:{resizeWidth:42,webpEnable:u}}),!!H&&i.createElement("div",{className:kt().imgTag,style:{color:F,backgroundColor:B}},i.createElement("span",{className:kt().tag,ref:S},H))),i.createElement("div",{className:kt().goodsInfo},i.createElement("div",{className:kt().goodsName},I),i.createElement("div",{className:kt().goodsDesc},i.createElement("div",{className:kt().strategy,style:{color:G}},L),i.createElement(je.Z,{className:kt().arrow,style:{fill:G}}))),i.createElement(h.End,{name:"pc_buiGoodsListShowCategory"}))):null}var Et,St=(0,i.memo)(yt),It=n(82226),Ct=n(63534),xt=n(97319),Nt=n(20180),Pt=n(2497),Lt=n.n(Pt),Wt=(0,_.Pf)((0,i.memo)((function(e){var t=e.data,n=e.className,a=null==t?void 0:t.filter((function(e){return e.color&&e.text}));return(null==a?void 0:a.length)?i.createElement("div",{className:s()(Lt().tags,n)},a.map((function(e){var t=e.text,n=e.color;return i.createElement("span",{style:{color:n},className:Lt().item},t)}))):null}))),Mt=n(33483),At=n(32083),Dt=n.n(At);!function(e){e[e.normal=1]="normal",e[e.special=2]="special",e[e.countStyleWithBorder=3]="countStyleWithBorder",e[e.countStyleWithBg=4]="countStyleWithBg"}(Et||(Et={}));var Rt,Gt=(0,_.Pf)((function(e){var t=e.data,n=e.goodsId,o=(null==t?void 0:t[0])||{},r=o.endTime,l=o.text,c=o.tagType,d=o.color,g=void 0===d?"#0A8800":d,f=o.tagId,p=o.header,v=o.footer,h=o.extMap,T=o.backColor,b=o.url,_=B.xI.Discount===f,w=h||{},y=w.tagEndStr,E=w.tagEndStrColor,S=w.tagStyle,I=void 0===S?1:S,C=w.tagIcon,x=y&&2==+I,N=(0,u.FG)().nowTime,P=(0,i.useRef)(!0),L=(0,i.useRef)(),M=0,A=(0,m._)((0,i.useState)(),2),D=A[0],R=A[1],G=c===B.Gm.singleGoodsCoupon;N&&r&&(M=M<0?M:r-N);var O=(0,W.lO)().supportWebp;(0,i.useEffect)((function(){"number"==typeof r&&M<=0&&!P.current&&!_&&(document.dispatchEvent(new CustomEvent(Se,{detail:{goodsId:n}})),P.current=!0)}),[r,n,_,M]);var z=!l&&!(null==p?void 0:p.text);if((0,i.useEffect)((function(){P.current=!1}),[]),(0,i.useEffect)((function(){if(!z&&L.current){var e=L.current.clientWidth/L.current.scrollWidth,t=Math.max(11,13*e);R({fontSize:t+"px"})}}),[z]),z)return null;if(G)return i.createElement("div",{className:s()(Dt().discountPriceTag,Dt().singleGoodsCoupon,Dt().newStyle)},i.createElement("div",{className:s()(Dt().textWrap,T&&Dt().withBg),style:{color:g,border:g&&!T?"1px solid "+g:"",background:T}},!!b&&i.createElement(k.ZP,{src:b,className:Dt().icon,processParam:{webpEnable:O},"aria-hidden":!0,alt:""}),i.createElement("span",{className:Dt().singleGoodsCoupontext},l)));var U,H=r?i.createElement(i.Fragment,null,4==+I&&i.createElement("div",{className:Dt().line}),i.createElement(Mt.Z,{endTime:r,className:s()(Dt().countDown,(0,a._)({},Dt().withBgCountDown,4==+I))})):_&&(null==v?void 0:v.text)&&i.createElement("span",{className:Dt().footerText},null==v?void 0:v.text);return i.createElement("div",{className:s()(Dt().discountPriceTag,Dt().newStyle,(U={},(0,a._)(U,Dt().withBorder,3==+I),(0,a._)(U,Dt().withBg,4==+I),U)),style:{opacity:D?"1":"0"}},i.createElement("div",{className:s()(Dt().tagContent,(0,a._)({},Dt().discountContent,_))},i.createElement("div",{className:Dt().content},!!C&&i.createElement(k.ZP,{src:C,className:Dt().tagIcon,processParam:{webpEnable:O},"aria-hidden":!0,alt:""}),i.createElement("div",{className:Dt().text,style:D,ref:L},_?null==p?void 0:p.text:l)),x?i.createElement("span",{className:s()(Dt().footerText,Dt().discount),style:{color:E}},y):H))})),Ot=n(65522),zt=n(28037),Ut=n.n(zt),Ht=function(e){var t=e.processTrackingInfo,n=e.className,o=e.ratio,r=e.salesPercentStr,l=e.fill,c=void 0===l?"#fb7707":l,u=e.withCart,d={width:o+"%"};return i.createElement(N.ZP,{payload:{page_el_sn:null==t?void 0:t.pageElSn}},i.createElement("div",{className:s()(Ut().wrap,n)},i.createElement("div",{className:s()(Ut().processWrap,(0,a._)({},Ut().withCart,u))},i.createElement("div",{className:Ut().process,style:d})),i.createElement("div",{className:Ut().textLine},o>=65&&i.createElement(Ot.i0,{path:"M432.1 0c149.7 87.7 250.7 246.3 254.3 428.1 30.2-30.1 52.4-68 63-110.3l0.8-3.2c88.8 68.6 145.8 174.8 145.8 293.9 0 6.8-0.2 13.6-0.6 20.4 0.4 6.8 0.6 13.6 0.6 20.5 0 206.9-171.9 374.6-384 374.6-212.1 0-384-167.7-384-374.6 0-103.1 42.7-196.4 111.7-264.2 91.9-104.6 158.1-231.2 189.3-370.5l3.1-14.7z",style:{fill:c},className:Ut().fireIcon}),!!r&&i.createElement("div",{className:Ut().txt},r))))},Ft=n(41776),Bt=n.n(Ft),Zt=function(e){var t=e.className,n=e.marketPrice,a=e.discount,o=e.prefix;return n&&a?i.createElement("div",{className:s()(Bt().container,t)},i.createElement("div",{className:Bt().marketPrice},o||"",n),i.createElement("div",{className:Bt().discount},a)):null},qt=(0,i.memo)(Zt),jt=n(31509),Jt=n.n(jt),Kt=function(e){var t=e.firstInstallmentTag,n=e.className,a=e.lazy,o=(null==t?void 0:t[0])||{},r=o.text,l=o.color,c=o.urls,u=(0,W.lO)().supportWebp;return r&&(null==c?void 0:c.length)?i.createElement("div",{className:s()(Jt().payTagWrap,n)},i.createElement("div",{className:Jt().text,style:{color:l}},r),i.createElement("div",{className:Jt().imgWrap},c.map((function(e){return e?i.createElement(k.ZP,{lazy:a,src:e,className:Jt().img,"aria-hidden":!0,processParam:{webpEnable:u,resizeWidth:70},alt:""}):null})))):null},Yt=n(65787),Vt=n(69459),Xt=n(10644),Qt=n(91061),$t=n.n(Qt),en=(0,i.memo)((function(e){var t=e.data,n=e.lazy,a=t||{},o=a.url,r=a.suffixUrls,l=void 0===r?[]:r,c=a.color,u=a.text,d=a.prefixUrls,m=(0,W.lO)().supportWebp,g=(null==d?void 0:d.length)||[o];return i.createElement("div",{className:$t().item},!!(null==g?void 0:g[0])&&i.createElement(k.ZP,{src:g[0],className:$t().icon,lazy:n,processParam:{webpEnable:m},"aria-hidden":!0,alt:""}),i.createElement("span",{style:{color:c},className:$t().text},u),!!(null==l?void 0:l[0])&&i.createElement(k.ZP,{src:l[0],className:s()($t().icon,$t().suffixLogo),lazy:n,processParam:{webpEnable:m},"aria-hidden":!0,alt:""}))})),tn={1:1700,2:3700},nn=(0,i.memo)((function(e){var t,n,a=e.tags,o=e.goodsId,r=e.className,l=e.lazy,c=e.grayConfig,u=null==a?void 0:a.filter((function(e){return null==e?void 0:e.text})),d="mallTags-"+o,g=(null==u?void 0:u.length)>1,f=(null==c||null==(t=c.cp153647)?void 0:t.value)?tn[null==c||null==(n=c.cp153647)?void 0:n.value]:void 0,p=function(e){var t=e.num,n=e.containerClassName,a=e.goodsId,o=e.perHeight,r=e.stayTimePer,l=void 0===r?2700:r,s=(0,m._)((0,i.useState)(""),2),c=s[0],u=s[1];return(0,i.useEffect)((function(){t<2||function(){for(var e=(l+300)*t,r=100/t,i=l/e*100,s="loop-"+a,c="@keyframes "+s+" {\n",d=0;d<t;)c=c+(d*r+"% { transform: translateY(-")+d*o+"px); }\n"+(d*r+i)+"% { transform: translateY(-"+d*o+"px);}\n",d++;u("."+n+" {\n            animation: "+s+" "+e+"ms ease-out infinite;\n            }"+(c+="100% { transform: translateY(-"+t*o+"px); }"))}()}),[n,a,t,o,l]),c}({num:null==u?void 0:u.length,containerClassName:d,goodsId:o,perHeight:20,stayTimePer:f});return(null==u?void 0:u.length)?i.createElement("div",{className:s()($t().mallTagsWrap,r)},!!p&&i.createElement("style",null,p),i.createElement("div",{className:d},null==u?void 0:u.map((function(e){return i.createElement(en,{data:e,key:e.tagId})})),!!g&&i.createElement(en,{data:u[0],lazy:l}))):null})),an=(n(68164),n(23075)),on=n(8524),rn=n(65127),ln=n(41989),sn=n.n(ln),cn=function(e){var t,n=e.className,r=e.commonTrackingInfo,l=e.trackingGoodsInfo,c=e.skcTrackingInfo,u=e.setSkcIndex,d=e.currentSkcIndex,g=e.skcList,f=e.setSkcLoading,p=e.webpEnable,v=e.imageProcessParam,h=e.alt,T=(0,W.lO)().isRTL,b=null!=(t=null==g?void 0:g.length)?t:0,_=b>8?null==g?void 0:g.slice(7):[],w=(0,m._)((0,i.useState)(!1),2),k=w[0],y=w[1],E=(0,i.useRef)(null),S=(0,i.useRef)(0),I=(0,i.useRef)({0:!0}),C=(0,i.useCallback)((function(e){var t;I.current[e]=!0;var n=new Image,a=null==g||null==(t=g[e])?void 0:t.galleryUrl;a&&(n.src=(0,an.FT)(a,v))}),[g]),N=(0,i.useCallback)((function(e){var t;null==f||f(!0),I.current[e]=!0;var n,a=new Image,o=null!=(n=null==g||null==(t=g[e])?void 0:t.galleryUrl)?n:"";if(o){a.src=(0,an.FT)(o,v);var r=function(){u(e),null==f||f(!1),S.current&&clearTimeout(S.current),0!==e&&C(e-1),e!==b-1&&C(e+1)};a.onload=r,a.onerror=r}}),[g,b]),P=(0,i.useCallback)((function(e){var t=+e.currentTarget.dataset.index||0;t>0&&I.current[t]?u(t):S.current=window.setTimeout((function(){N(t)}),0),(0,x.wI)((0,o._)({},r,l,c||{},{page_el_sn:215487}))}),[]),L=(0,i.useCallback)((function(){S.current&&clearTimeout(S.current)}),[]);(0,i.useEffect)((function(){return function(){S.current&&clearTimeout(S.current)}}),[]);var M,A=function(){if(!(null==_?void 0:_.length))return null;var e={},t={};if(E.current){var n=getComputedStyle(E.current.children[0])||{},o=parseFloat(n.width),r=parseFloat(T?n.marginLeft:n.marginRight),l=Math.min(_.length,7);e={width:o*l+r*(l-1)+20+"px"},t={width:o+"px",height:o+"px"},T?t.marginLeft=r+"px":t.marginRight=r+"px"}return i.createElement("div",{className:s()(sn().skcListWrapper,sn().bubbleWrap),style:e},_.map((function(e,n){var o=e.galleryUrl,r=e.colorImage,l=n+8-1;return i.createElement("div",{className:s()(sn().skcItemWrapper,(0,a._)({},sn().active,l===d)),onMouseEnter:P,onMouseLeave:L,"data-index":l,key:l,style:t},r&&o?i.createElement(on.I,{src:(0,an.FT)(r,{resizeWidth:18,webpEnable:p,quality:70}),className:sn().skcImg,"aria-hidden":!0,alt:h}):null)})))};return(null==g?void 0:g.length)?i.createElement("div",{className:s()(sn().skcWrapper,n,(M={},(0,a._)(M,sn().skcWrapper8,8===b),(0,a._)(M,sn().skcWrapperLess8,b<8),M))},i.createElement("div",{className:sn().skcListWrapper,ref:E},g.slice(0,b>8?7:8).map((function(e,t){var n=e.galleryUrl,o=e.colorImage;return i.createElement("div",{className:s()(sn().skcItemWrapper,(0,a._)({},sn().active,t===d)),onMouseEnter:P,onMouseLeave:L,"data-index":t,key:t},o&&n?i.createElement(on.I,{src:(0,an.FT)(o,{resizeWidth:18,webpEnable:p,quality:70}),className:sn().skcImg,"aria-hidden":!0,alt:h}):null)}))),b>8&&i.createElement("div",{className:sn().skcNumWrap},i.createElement("div",{className:sn().skuNumMain},i.createElement(rn.Z,{mountPopupWhenInit:!0,overlay:i.createElement(A,null),placement:"bottom",onPopoverVisibleChange:function(e){e&&!k&&y(!0),!e&&k&&y(!1)}},i.createElement("div",{className:sn().skcNum},b-8+1,i.createElement("div",{className:sn().bubbleArrowWrap,style:{visibility:k?"visible":"hidden",left:b-8+1>=10?"1px":"-3px"}},i.createElement(Ot.eb,{className:sn().bubbleArrow,viewBox:"0 0 22 8"}))))),i.createElement("div",{className:sn().skuNumBlank}))):null},un=(0,i.memo)(cn),dn=n(12644),mn=n.n(dn),gn=function(e){var t=e.comment,n=e.avatar,a=e.className,o=e.style,r=e.lazy,l=e.webpEnable;return t&&n?i.createElement("div",{className:s()(mn().container,a),style:o},i.createElement("div",{className:mn().content,tabIndex:0},i.createElement("div",{className:mn().avatarImage},i.createElement(k.ZP,{lazy:r,src:n,className:mn().avatar,"aria-hidden":!0,alt:t,processParam:{resizeWidth:57,webpEnable:l}})),t)):null},fn=(0,i.memo)(gn),pn=n(68432);n(27635);!function(e){e[e.center=1]="center"}(Rt||(Rt={}));var vn=n(34404),hn=n.n(vn),Tn=function(e){var t,n,r=e.header,l=e.url,c=e.footer,d=e.iconImg,g=e.className,f=e.lazy,p=void 0!==f&&f,v=e.ph,h=e.textCentered,T=e.promotionStyle,b=e.textYPercent,_=e.classConfig,w=e.serverTime,y=e.rowNum,E=(0,W.lO)().isRTL,S=(0,i.useRef)(null),I=(0,i.useRef)(null),C=(0,i.useRef)(!1),x=r||{},N=x.text,P=x.color,L=c||{},M=L.endTime,A=L.text,D=L.color,R=(null==r?void 0:r.dx)||(null==c?void 0:c.dx)||0,G=h===Rt.center,O=1===T,z=2===T,U=N&&A&&!O&&!z,H={color:D},F=(0,qe.mr)(M||e.endTime||""),B=w||Date.now(),Z=(0,i.useRef)(F&&F+2e3>B),q=(0,u.FG)().nowTime,j=0;q&&Z.current&&(j=F-q);var J=j>0,K=!(J&&F),Y={color:P,marginTop:U?"1.6%":"0px",opacity:K?0:1,whiteSpace:"nowrap"},V=(0,m._)((0,i.useState)(Y),2),X=V[0],Q=V[1],$=(0,i.useCallback)((function(){if(!S.current||!I.current||!K)return Q((function(e){return(0,o._)({},e,{opacity:1})}));var e=.8*I.current.offsetHeight;return(S.current.scrollWidth>S.current.clientWidth||C.current)&&(C.current=!0,Q((function(t){return(0,o._)({},t,{opacity:1,fontSize:e,whiteSpace:"initial",lineHeight:e+4+"px",marginTop:"-2px"})}))),Q((function(e){return(0,o._)({},e,{opacity:1})}))}),[K]);if((0,i.useEffect)((function(){return $(),window.addEventListener("resize",$),function(){window.removeEventListener("resize",$)}}),[K,$]),!l||F&&!J)return null;var ee=!N&&A&&!O&&!z&&J&&F&&((null==A||null==(n=A.trim)||null==(t=n.call(A))?void 0:t.length)>10||F-B>qe.dJ+2e3),te=v?{paddingBottom:100*v+"%"}:{},ne={width:G?"200%":2*(1-R)*100+"%"};E?ne.right=G?"0px":100*R+"%":ne.left=G?"0px":100*R+"%",v&&b&&(ne.paddingTop=v*b*2*100+"%");var ae,oe,re,ie=J&&F&&z&&d;return i.createElement("div",{className:s()(hn().container,g,null==_?void 0:_.container,(re={},(0,a._)(re,hn().double,U),(0,a._)(re,hn().isCenter,G),(0,a._)(re,hn().promotionStyle1,1===T),(0,a._)(re,hn().showFlashSeparator,ie),(0,a._)(re,hn().isCountDownDays,ee),(0,a._)(re,hn().isMore,(null!=(ae=null==N?void 0:N.length)?ae:0)>22||(null!=(oe=null==A?void 0:A.length)?oe:0)>14&&J&&F),(0,a._)(re,hn().sixCard,6===y),re)),style:te,tabIndex:-1,ref:I},l?i.createElement(k.ZP,{src:l,lazy:p,className:s()(hn().image,null==_?void 0:_.image),"aria-hidden":!0,alt:""+(N||""),processParam:{resizeWidth:512,quality:100}}):null,i.createElement("div",{className:s()(hn().content,null==_?void 0:_.content),style:ne},N?i.createElement("div",{className:s()(hn().header,null==_?void 0:_.header,(0,a._)({},hn().singleLine,!(J&&F))),style:X,role:"link",ref:S},N):null,J&&F?i.createElement("div",{className:s()(hn().footer,null==_?void 0:_.footer,(0,a._)({},hn().singleLine,!N&&A&&J&&F)),style:H},ie?i.createElement(k.ZP,{alt:N,lazy:p,src:d,className:hn().flashClockImg,processParam:{resizeWidth:33,quality:100},"aria-hidden":!0}):null,i.createElement("span",{className:s()(hn().footerText,null==_?void 0:_.footerText),role:"link"},A),i.createElement(Mt.Z,{endTime:F,className:s()(hn().countDown,null==_?void 0:_.countDown),style:{color:D},role:"link"})):null))},bn=(0,i.memo)(Tn),_n=n(23653),wn=n(37818),kn=n.n(wn),yn=function(){},En=(0,i.memo)((function(e){var t=e.tooltipProps,n=(0,r._)(e,["tooltipProps"]);return t?i.createElement(U.IH,t,i.createElement(lt,n)):i.createElement(lt,n)})),Sn="undefined"!=typeof document&&"ontouchstart"in document,In=(0,i.memo)((function(e){var t,n,r,l,u,y,E,S,I,z,H,F,Z,q,j,K,Y,V,X,Q,$=e.index,ee=e.pageSn,ae=e.pageElSn,oe=e.cartScene,re=e.goodsInfo,ie=e.classNameWrap,le=e.canAddToCart,se=e.cartAmount,ce=e.isMainGoods,ue=e.CustomGoodsBtn,de=e.forwardGoodsParams,me=e.beforeClickCart,ge=e.onGoodsClick,fe=e.onQuickLookClick,ve=e.onAddCartClick,Te=e.onSkuPanelClose,_e=e.onSkuPanelSuccess,we=e.openGoodsWithNewTab,ke=void 0===we||we,ye=e.quickLook,Se=e.useCartBtn,Me=e.webpEnable,Ae=e.isShowSkc,De=e.isShowProcess,Re=void 0!==De&&De,Ge=e.processTrackingInfo,Oe=e.cardTrackingInfo,ze=e.showDiscountOnName,Ue=void 0!==ze&&ze,Fe=e.grayConfig,je=e.startLazyIndex,Je=e.imageRootMargin,Ke=void 0===Je?500:Je,Ye=e.isOpenSaleInfoScale,Ve=e.isShowHoverImage,Xe=void 0===Ve||Ve,Qe=e.skuParams,$e=e.skuOptions,et=e.goodsNameTag,tt=e.hoverTheme,nt=void 0===tt?pn.P.DEFAULT:tt,ot=e.isShowComment,rt=e.isShowBillboardTip,it=e.billboardTipProps,lt=e.autoShowSimilarCount,st=void 0===lt?0:lt,ct=e.autoShowCategoryCardCount,ut=void 0===ct?0:ct,mt=e.showMarketInfo,gt=e.commonGoodsTrackingInfo,ft=e.skcTrackingInfo,pt=e.classConfig,wt=e.setDatasource,kt=e.showSavePrice,yt=e.renderTopTips,Et=e.renderBottomTips,Pt=e.renderTags,Lt=e.renderTagsBeforePrice,Mt=e.userAgent,At=e.goodsConfig,Dt=e.serverTime,Rt=e.rowNum,Ot=void 0===Rt?5:Rt,zt=e.renderCustomizeTags,Ut=e.listId,Ft=e.emageProgress,Bt=void 0===Ft||Ft,Zt=e.ignoreGoodsSaleInlineScriptEffect,jt=e.refreshInfo,Jt=e.privateListId,Qt=re.title,$t=re.thumbUrl,en=re.salesTipText,tn=re.salesTipTextList,an=re.salesTip,on=re.priceInfo,rn=re.linkUrl,ln=re.seoLinkUrl,sn=re.pageAlt,cn=re.image,dn=re.hoverImage,mn=re.goodsId,gn=void 0===mn?"":mn,vn=re.pRec,hn=re.pSearch,Tn=re.mRec,wn=re.mTrc,In=re.ad,Cn=re.quickLook,xn=re.goodsTags,Nn=re.specIds,Pn=re.comment,Ln=re.commentNumTips,Wn=re.goodsScore,Mn=re.tagsInfo,An=re.promotionTagList,Dn=re.video,Rn=re.skcList,Gn=re.noSalesTipText,On=re.optId,zn=re.ext,Un=re.uniqueId,Hn=re.gcId,Fn=re.gcGoodsList,Bn=re.extendFieldsForSku,Zn=re.extendFields,qn=void 0===Zn?{}:Zn,jn=qn.supportTagCarousel,Jn=void 0!==jn&&jn,Kn=qn.titleRow,Yn=void 0===Kn?1:Kn,Vn=qn.showScoreNum,Xn=void 0!==Vn&&Vn,Qn=qn.saleFireFlag,$n=void 0!==Qn&&Qn,ea=qn.skuExtraParam,ta=void 0===ea?{}:ea,na=qn.engIcon,aa=void 0===na?{}:na,oa=qn.onlyOneSku,ra=qn.mainViewType,ia=qn.mainJumpUrl,la=qn.frontParam,sa=re.cardTrackingInfo,ca=re.HWRatio,ua=void 0===ca?1:ca,da=re.activityType,ma=(re.wareHouseType,re.afterPriceShowPriority),ga=re.afterStarShowPriority,fa=re.afterPriceTipText,pa=re.salesTipWithTime,va=re.currentSkuId,ha=re.adultGoods,Ta=re.allLocationDataDictMap,ba=re.titleRich,_a=re.complianceInfo,wa=(la||{}).itemListExp,ka=(0,o._)({_oak_page_source:115},Qe),ya=(0,W.lO)().localInfo,Ea=((0,f.IV)(null==ya?void 0:ya.region),p.DR.eu,+((null==ya?void 0:ya.region)||0)===p.k6.sa),Sa=(0,P.X2)(),Ia=(0,w.$)("bec-fe.bui-web-goods-list"),Ca=Ia.t,xa=Ia.i18n,Na=(0,i.useRef)(null),Pa=(0,i.useRef)(null),La=((0,o._)({open:!0},Cn||{},ye||{}),(At||{}).cancelRobotLimit),Wa=(null==Fe?void 0:Fe.cp159015)||{},Ma=(0,o._)({webpEnable:Me},k.DJ.GOODS_MIDDLE||{},{quality:(null==Wa?void 0:Wa.normal)||k.DJ.GOODS_MIDDLE.quality}),Aa=Dn||{},Da=Aa.videoUrl,Ra=(Aa.iconUrl,Aa.imageUrl),Ga=(0,Le.Z)({salesTipText:en,salesTipTextList:tn}),Oa=Ga.salesTipValue,za=Ga.useNewSalesTip,Ua=Oa,Ha=zn||{},Fa=Ha.goodsActivitySalesRatioParam,Ba=Ha.activitySalesRatioContent,Za=Re&&!!Fa&&Fa>=0&&Fa<=100,qa=Mn||{},ja=qa.brandTags,Ja=qa.promotionTags,Ka=qa.billboardTags,Ya=qa.topSpecTags,Va=qa.goodsAttributesTags,Xa=void 0===Va?[]:Va,Qa=qa.titleHeaderTags,$a=void 0===Qa?[]:Qa,eo=qa.todayTags,to=qa.activityIconTags,no=void 0===to?[]:to,ao=qa.firstInstallmentTag,oo=void 0===ao?[]:ao,ro=qa.specialOfferTag,io=void 0===ro?[]:ro,lo=qa.couponTag,so=void 0===lo?[]:lo,co=qa.mallTag,uo=qa.progressTags,mo=void 0===uo?[]:uo,go=qa.totalDiscountAmountTag,fo=void 0===go?[]:go,po=qa.bookAttributeTag,vo=void 0===po?[]:po,ho=qa.mixBenefitTags,To=void 0===ho?[]:ho,bo=(qa.capsuleTags,null==(n=(null==Mn?void 0:Mn.goodsTags)||xn)||null==(t=n.map)?void 0:t.call(n,(function(e,t){return(0,o._)({},e||{},{i:t})}))),_o=(null==An||null==(r=An[0])?void 0:r.promotionTag)?An[0]:null,wo=(null==Ja?void 0:Ja.length)?Ja[0]:null,ko=(0,m._)((0,i.useState)(!1),2),yo=ko[0],Eo=ko[1],So=null==eo||null==(l=eo[0])?void 0:l.text,Io=(null==So||So.length,(0,i.useMemo)((function(){var e=((null==eo?void 0:eo[0])||{}).tagId;return{page_el_sn:239821,goods_id:gn,price_pre_tag:String(void 0===e?"":e)}}),[])),Co=!!Mt&&(0,M.Y7)(Mt),xo=!!Mt&&!/macintosh|mac os x/i.test(Mt),No=(0,i.useContext)(Be.Z).disableLazy,Po=(0,i.useRef)(0),Lo=null==no?void 0:no[0],Wo=(null==Fe||null==(u=Fe.cp126457)?void 0:u.value)&&ua>1?dt:En,Mo=null==Fe||null==(y=Fe.cp145287)?void 0:y.value,Ao=(0,i.useMemo)((function(){return je&&($||0===$)?$>je:!No}),[No,je,$]),Do=(0,m._)((0,i.useState)(!1),2),Ro=Do[0],Go=Do[1],Oo=(0,i.useCallback)((function(){Sn||Go(!0)}),[]),zo=(0,i.useCallback)((function(){Sn||Go(!1)}),[]),Uo=(0,m._)((0,i.useState)(on),2),Ho=Uo[0],Fo=Uo[1],Bo=Ae?(Rn||[]).filter((function(e){return e.colorImage})):[],Zo=Bo.length>1,qo=(0,m._)((0,i.useState)(0),2),jo=qo[0],Jo=qo[1],Ko=(0,i.useMemo)((function(){if(Zo)return Rn[jo]}),[Zo,Rn,jo]),Yo=(0,m._)((0,i.useState)({}),2),Vo=Yo[0],Xo=Yo[1],Qo=(null==Vo?void 0:Vo.specialOfferTag)||io,$o=(null==Qo||null==(E=Qo[0])?void 0:E.text)?1:void 0,er=(0,i.useMemo)((function(){var e,t,n;return(0,o._)({p_rec:vn,p_search:hn,m_rec:Tn,m_trc:wn,ad:In,idx:$,g_idx:$,goods_display_id:(0,v.x)(),show_currency:null==on?void 0:on.currency,show_price:(null==on?void 0:on.price)||((null==on||null==(e=on.priceText)?void 0:e.length)>1?100*+on.priceText[1]:""),show_sales:Ua&&Ua.length>0?Ua[0]:"",show_skc:Zo?1:0,unique_id:Un,gc_id:Hn,limit_disc_prc:$o,gc_goods_list:null!=(n=null==Fn||null==(t=Fn.join)?void 0:t.call(Fn,","))?n:null,is_sold_date:pa?1:0},Oe,sa,gt)}),[]),tr=J({tags:Xa,grayConfig:Fe,localInfo:ya}),nr=tr.needCarousel,ar=tr.textList,or=(null==ar?void 0:ar.length)?{is_roll:nr?1:0,date_text:(null==ar?void 0:ar.length)?(0,qe.or)(ar):""}:{},rr=(0,i.useMemo)((function(){return ce?(0,o._)({goods_id:gn},or):(0,o._)({rec_goods_id:gn},or)}),[gn,ce]),ir=(0,o._)({},rr,er,{goods_btn_idx:er.idx,idx:void 0}),lr=(0,o._)({page_el_sn:200061,cart_scene:oe,goods_id:gn},ir),sr=B.d6.includes(wa),cr=le&&!ue&&!Se&&!sr,ur=(0,m._)((0,i.useState)(!1),2),dr=ur[0],mr=ur[1],gr=(0,Ne.Z)({goodsId:gn,pageSn:ee,scene:Ne.x.SIMILAR,showNewSimilarDialog:!0,imgSearchUrl:$t}),fr=(null==(S=gr.goodsList)?void 0:S.length)>0,pr=(0,i.useCallback)((function(){null==wt||wt((function(t){return He(t,{goods_id:gn,unique_id:Un},e,{onSkuPanelClear:!0})}))}),[]),vr=(0,i.useMemo)((function(){var e=(null==cn?void 0:cn.url)||$t,t=(0,qe.Ig)(Ho,"",ee,gn,Ut),n=Ye&&(0,qe.Vq)(null==t?void 0:t.currency,null==xa?void 0:xa.resolvedLanguage);if(!Zo)return{showGoodsImg:e,showPriceInfo:t,showLinkUrl:rn,showSeoLinkUrl:ln,showHoverImage:null==dn?void 0:dn.url,saleInfoEnableScale:n};var a=Ko||{},o=a.galleryUrl,r=a.priceStr,i=a.seoLinkUrl,l=a.linkUrl,s=a.priceInfo,c=a.hoverImage;return{showGoodsImg:o||e,showPriceInfo:s?(0,qe.Ig)(s,r,ee,gn,Ut):t,showLinkUrl:l||rn,showSeoLinkUrl:i||ln,showHoverImage:(null==c?void 0:c.url)||(null==dn?void 0:dn.url),saleInfoEnableScale:n}}),[null==cn?void 0:cn.url,$t,Ho,ee,gn,Ut,Ye,null==xa?void 0:xa.resolvedLanguage,Zo,Ko,rn,ln,null==dn?void 0:dn.url]),hr=vr.showGoodsImg,Tr=vr.showPriceInfo,br=vr.showLinkUrl,_r=vr.showSeoLinkUrl,wr=vr.showHoverImage,kr=wr&&!Da&&Xe,yr=(0,i.useMemo)((function(){return br&&_r?(0,be.YK)(_r&&0!==(null==_r?void 0:_r.indexOf("?"))?_r:br):"/goods.html?_bg_fs=1&goods_id="+gn}),[br,_r,gn]);(0,i.useEffect)((function(){Go(Sn),(0,Ze.KU)({pageSn:ee})}),[ee]);var Er=rt&&(null==Ka?void 0:Ka[0].pw)&&(null==Ka?void 0:Ka[0].ph),Sr=null==zt?void 0:zt(re),Ir=(0,m._)((0,i.useState)(so),2),Cr=Ir[0],xr=Ir[1],Nr=!!(null==Cr||null==(I=Cr[0])?void 0:I.text),Pr=!_o&&!!(null==bo?void 0:bo.length)&&(!Co||(null==La?void 0:La.includes("goodsTags")))&&!Sr&&!Nr,Lr=(!Co||(null==La?void 0:La.includes("brandTags")))&&!(null==bo||null==(z=bo.some)?void 0:z.call(bo,(function(e){var t;return+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===qe.oO.BRAND})))&&!(null==co?void 0:co.length),Wr=!(null==bo?void 0:bo.some((function(e){var t;if(+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===qe.oO.COMMENT){var n,a=(null==e||null==(n=e.extMap)?void 0:n.goodsScoreStarComment)&&(0,h.as)(e.extMap.goodsScoreStarComment,{});return a&&a.goods_score_text&&a.comment_num_tips}return!1})))&&((null==Pn?void 0:Pn.goodsScore)||Wn),Mr=(0,i.useRef)(!1),Ar=!_o&&!Pr&&"function"==typeof Pt,Dr=(0,ne.N)({width:null==aa?void 0:aa.width,height:null==aa?void 0:aa.height}).width,Rr=(null==_a?void 0:_a.iconInfo)?78:0,Gr=(0,i.useRef)(),Or=Pe({personalizationTagRef:Gr,efficiencyTagWidth:Rr||Dr}).showPersonalization;(0,i.useEffect)((function(){ut>0&&dr||(0!==ut||dr)&&mr(ut>0)}),[ut]),(0,i.useEffect)((function(){st>0&&fr||(0!==st||fr)&&(0,d._)((function(){return(0,g.Jh)(this,(function(e){switch(e.label){case 0:return st>0?(Sa.stageStart("api"),[4,gr.loadData()]):[3,2];case 1:return e.sent(),Sa.stageEnd("api"),[3,3];case 2:gr.clear(),e.label=3;case 3:return[2]}}))}))()}),[st]),(0,i.useEffect)((function(){var e=jt||{},t=e.priceInfo,n=e.tagsInfo;t&&n&&((null==t?void 0:t.price)!==(null==Ho?void 0:Ho.price)&&Fo(t),xr(null==n?void 0:n.couponTag))}),[null==Ho?void 0:Ho.price,jt]);var zr,Ur,Hr=(0,i.useCallback)((function(){Sa.start({type:"click"}),Te&&Te({goods_id:gn}),null==wt||wt((function(t){return He(t,{goods_id:gn,unique_id:Un},e,{onSkuPanelClose:!0})}))}),[]),Fr=(0,i.useCallback)((function(){_e&&_e({goods_id:gn})}),[gn,_e]),Br=(null==Fe||null==(H=Fe.cp139870)?void 0:H.value)||0,Zr=(0,We.Z)({cartAmount:(null==re?void 0:re.cartAmount)||se||0,beforeClickCart:me,imprEventData:ir,clickEventData:ir,pageSn:ee,params:(0,o._)({goods_id:gn,_oak_spec_ids:Nn||"",gc_id:Hn,gc_goods_list:Fn},(0,T.D1)(Bn||{}),ka||{},(0,T.D1)(ta||{}),{_oak_multi_spec_goods_sold:Mr.current?1:void 0}),cartScene:oe,defaultSpecId:null==Ko?void 0:Ko.specId,showGoodsImg:hr,webpEnable:Me,userCloseCallback:Hr,callback:Fr,skuOptions:$e,cartBtnRef:Pa,usePreloadSku:Br}),qr=Zr.cartAmount,jr=Zr.onClick,Jr=Zr.preloadSku,Kr=(0,i.useCallback)((function(e,t){null==e||e.stopPropagation(),Br&&1==+(null==e?void 0:e.buttons)&&Jr(t)}),[Jr,Br]),Yr=(0,i.useCallback)((function(e,t){fe&&fe({goods_id:gn}),jr(e,t)}),[]),Vr=(0,i.useCallback)((function(e){ve&&ve({goods_id:gn}),jr(e)}),[]),Xr=(0,i.useCallback)((function(){var e;if(Na.current){for(var t=[],n=(null==(e=Na.current)?void 0:e.childNodes)||[],a=0;a<n.length;a++){var o,r;"1"===(null==(r=n[a])||null==(o=r.getAttribute)?void 0:o.call(r,"data-active"))&&t.push(n[a])}return(0,qe.W5)(t,ja)}}),[]),Qr=(0,i.useMemo)((function(){return(0,b.ru)((0,o._)({refer_page_el_sn:ae},de||{},{}),yr)}),[yr,de,ae]),$r=(0,i.useCallback)((function(){return Qr}),[Qr]),ei=(0,c.t)((0,d._)((function(e,t){var n,a,r,i,l,s,c,u;return(0,g.Jh)(this,(function(d){switch(d.label){case 0:return void 0===e&&(e={}),void 0===t&&(t=""),m={goodsId:gn,uniqueId:Un,privateListId:Jt},Ce["lastClickGoodsInfo"]=m,ge&&ge({goods_id:gn}),l=Xr(),hr&&(0,R.p)(hr,Me),s=(0,o._)({},er,rr,{page_el_sn:ae,tag_list:l,coupon_tagid_list:null==io||null==(n=io[0])?void 0:n.tagId,item_actv_type:da||0}),(null==e||null==(i=e.target)||null==(r=i.className)||null==(a=r.indexOf)?void 0:a.call(r,"skcImg"))>-1&&(s.choose_skc=1),Po.current+=1,Po.current>=2&&(s.is_snd_clk=1),[4,(0,x.ax)(s).catch((function(){}))];case 1:return d.sent(),c={},ke&&(c={openTarget:"_blank"}),u=t||Qr,Mr.current&&(u=(0,b.ru)({_oak_multi_spec_goods_sold:1},u)),u&&(0,xe.jm)(u,c),[2]}var m}))}))),ti=(0,c.t)((function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e);var a=i.createElement(O.p,{mainGooodsInfo:re,pageSn:ee,onClose:function(){(0,x.ax)({page_el_sn:222269}),(0,G.A)()},addCartTrackingInfo:ir,skuParams:ka,skuExtraParam:ta,skuOptions:$e,initData:{goodsList:gr.goodsList,imgSearchBytes:gr.imgSearchBytes,rankColumFilter:gr.rankColumFilter,hasMore:gr.hasMore}});(0,G.$)({popupNode:a})})),ni=(0,i.useRef)(null),ai=(0,m._)((0,i.useState)(!1),2),oi=ai[0],ri=ai[1],ii=(0,i.useCallback)((function(){var e;Da&&!oi&&(fr||dr||null==ni||null==(e=ni.current)||e.onStart({cb:function(e){ri(e)}}))}),[Da,oi,fr,dr]),li=(0,i.useCallback)((function(){var e;Dn&&(null==ni||null==(e=ni.current)||e.onStop({cb:function(e){return ri(e)}}))}),[Da,oi]),si=(null==ja?void 0:ja.length)?ja[0]:{},ci=si.text,ui=void 0===ci?"":ci,di=si.url,mi=void 0===di?"https://aimg.kwcdn.com/upload_aimg/temu/f2cda539-4c39-4bce-afde-37ad4167120b.png":di,gi=si.color,fi=(0,o._)({},er,rr,{page_el_sn:ae,get tag_list(){var e,t,n,a=(null==(e=Na.current)?void 0:e.getAttribute("data-active"))||0,o=null==(n=Na.current)||null==(t=n.childNodes)?void 0:t[a];return(0,qe.W5)([o],ja)},coupon_tagid_list:null==io||null==(F=io[0])?void 0:F.tagId,item_actv_type:da||0}),pi=null==Fe||null==(Z=Fe.cp116861)?void 0:Z.value,vi=pi?_n.E:U.IH,hi="function"==typeof yt?yt(re):null,Ti="function"==typeof Et?Et(re):null,bi=(zr={},(0,a._)(zr,pn.P.DEFAULT,kn().hoverThemeDefault),(0,a._)(zr,pn.P.SCALE,kn().hoverThemeScale),(0,a._)(zr,pn.P.NONE,kn().noHover),zr),_i=ot&&!Se&&!ue&&(null==Pn?void 0:Pn.avatar)&&(null==Pn?void 0:Pn.comment),wi=_i?s()(kn().goodsWrapper,(0,a._)({},kn().newStyle,!0)):s()(kn().goodsWrapper,ie,bi[nt],(Ur={},(0,a._)(Ur,kn().noHover,Ro),(0,a._)(Ur,kn().showCategoryCard,dr),(0,a._)(Ur,kn().newStyle,!0),Ur));(0,i.useEffect)((function(){var e=function(e){var t=((null==e?void 0:e.detail)||{}).data;(null==t?void 0:t.goodsId)===gn&&Xo(t)};return document.addEventListener(Ie,e),function(){document.removeEventListener(Ie,e)}}),[gn]);var ki=ra===B.Iv.buyNow,yi=ki?Ca("buyNow"):"",Ei=(0,c.t)((function(e){var t,n;if(null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),ki&&oa&&va&&ia){var a=(0,b.ru)({goods_list:JSON.stringify([{sku_id:va,goods_number:1,goods_id:gn}]),login_scene:B.sQ.buyNow,addr_scene:B.Up.buyNow},ia);L.ZP.openWindow((0,be.YK)(a),{target:"_blank",features:"noopener"})}else Vr(e)})),Si=(0,c.t)((function(e){1===(null==e?void 0:e.button)&&Mo&&ei(e)})),Ii=(0,i.useMemo)((function(){return(null==Wa?void 0:Wa.low)?{quality:null==Wa?void 0:Wa.low}:{}}),[null==Wa?void 0:Wa.low]);if(!gn)return null;var Ci,xi="function"==typeof Bt?Bt($):Bt,Ni=null==Fe||null==(q=Fe.cp122051)?void 0:q.value,Pi=(null==mo?void 0:mo[0])||{},Li=Pi.endTime,Wi=Pi.text,Mi=Li&&Wi,Ai=Pr?i.createElement(ht.Z,{data:bo,className:s()(kn().item),ref:Na,supportTagCarousel:Jn,goodsId:gn,openGoodsWithNewTab:ke,commonTrackingInfo:gt,trackingGoodsInfo:rr,grayConfig:Fe,pageSn:ee,showScoreNum:Xn}):null;return i.createElement(Tt.Z,{className:wi,onClick:ei,title:Qt,goodsId:gn,noHover:Ro,type:_i?pn.l.expand:pn.l.default,classConfig:null==pt?void 0:pt.goodsContainer,payload:fi,tooltipDisabled:pi,onMouseUp:Si},i.createElement(vi,{id:"goodsImage-"+gn,title:Qt,fixed:!0,hidden:oi,className:s()(kn().item,"goods-image-container-external"),expandLeft:9,expandRight:9,expandTop:9},i.createElement(at.Z,{HWRatio:ua,onMouseEnter:ii,onMouseLeave:li},i.createElement("div",{className:s()(kn().goodsImgContainer,(0,a._)({},kn().multiImgFadeAniEnable,kr))},!!(null==aa?void 0:aa.engThumbUrl)&&!(null==_a?void 0:_a.iconInfo)&&i.createElement(ne.Z,{data:aa,goodsId:gn,lazy:Ao}),i.createElement(_.SV,null,!!(null==_a?void 0:_a.iconInfo)&&i.createElement(D.Z,{data:null==_a?void 0:_a.iconInfo,type:2})),!wo&&(null==cn?void 0:cn.watermark)?i.createElement(k.ZP,{lazy:Ao,src:null==cn?void 0:cn.watermark,className:kn().watermark,alt:sn||Qt,processParam:{resizeWidth:136,webpEnable:Me},"aria-hidden":!0}):i.createElement(i.Fragment,null),hr?i.createElement(C,{rootMargin:"string"==typeof Ke?Ke:+Ke+"px",rootRef:null},i.createElement(bt.Z,{alt:sn||Qt,lazy:Ao,src:hr,className:s()(ua>1?kn().goodsImgWithFullHeight:kn().goodsImg,"goods-img-external"),wrapClassName:s()(kn().goodsImageWrap,(Ci={},(0,a._)(Ci,kn().adultGoodsImg,ha),(0,a._)(Ci,kn().centerHorizontally,Ni),Ci)),processParam:Ma,emageProgress:xi,blurredCompressParams:Ii})):i.createElement("div",{className:kn().noImgContainer}),kr?i.createElement(bt.Z,{alt:sn||Qt,lazy:Ao,src:wr,wrapperClass:kn().secFadeAni,processParam:Ma,emageProgress:xi,className:s()(kn().secFadeAni,ua>1?kn().goodsImgWithFullHeight:kn().goodsImg)}):null,Da?i.createElement(_t.Z,{ref:ni,poster:Ra,videoURL:Da,isCrawler:Co}):null,!!yo&&i.createElement("div",{className:kn().masker},i.createElement("div",{className:kn().loadingBall},i.createElement("span",{className:kn().ballItem}),i.createElement("span",{className:kn().ballItem}),i.createElement("span",{className:kn().ballItem}))),fr?i.createElement(i.Fragment,null,i.createElement(Wo,{tooltipProps:pi?void 0:{id:"GoodsSimilar-"+gn,title:Qt,hidden:!0},mainGoodsId:gn,title:Ca("similar.title"),viewMoreText:Ca("similar.viewMore"),goodsList:gr.goodsList,webpEnable:Me,onClose:pr,onClickTitle:ti,onClickViewMoreBtn:ti,loggerParams:{main:205632,title:205652,viewMore:205633,goods:205634},isSmall:!!(0,qe.FX)(null==Tr?void 0:Tr.currency),commonTrackingInfo:er,trackingGoodsInfo:rr,pageSn:ee,grayConfig:Fe}),i.createElement(Sa.End,{name:"pc_buiGoodsListShowSimilarAfterSkuClose"})):null,dr&&!fr?i.createElement(_.SV,null,i.createElement(St,{pageSn:ee,goodsId:gn,closeCategoryCard:pr,lazy:Ao,webpEnable:Me,commonTrackingInfo:er,trackingGoodsInfo:rr,grayConfig:Fe,optId:On,isSmall:!!(0,qe.FX)(null==Tr?void 0:Tr.currency)})):null),hi||null,Ti||null,!hi&&function(){var e=(null==Ya?void 0:Ya[0])||{},t=e.text,n=e.tagId,a=e.url;if(Er)return i.createElement(vt,(0,o._)({data:Ka},it||{}));if(t){var r=91011===n?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAqFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///////////////////////8OiAXtAAAAN3RSTlMA+wX894ELdN8g5cKqSzYQDse1j2cdFPLu056Yh25iW1U/L+nWzb+SfDstuIpRQykX4ti7slwmvpUHHAAAAYRJREFUKM99kul2gjAQhZMqqyAgiKIi4G5du877v1lvhqRH67GXHyT5cpnJJULLG4p/NPfd6jmtJZEs/yy+mMF5RBKPdcOGTuKn7YaFT+S+gafGYDs+dah75q7eibqhV1CXgrjd30MtScsFxlEC31yIK9bci6IZanXgHqiJA5elGskHiYeXPSUgSPb5TDBvPDWKr6DeRkOaCdYUw9W3PsvexYxpL9Z9ppi4DdNwabzLV2FkYeqowVdXUebhTTwlWW2XmnaovMuvsfkjHVDd1oOOWNbe6WP8Nc6vvYFase/5iaSmA64UaG40Q5RMo7bLQ6SBXR8X8KvWJB3YFaBUMjS5kasC3ilvjI0oNgFvg+urv+c3WM5W24gptMXevmqq4rsyDg0IOc9oRbTHO+8RBF7raykL5muik3CCwoQx4lb2UqITfGlDlKl2TJIT/YPAR8kkg3sn8jUAm3u5Pmf5G1+Km/jJ4/EsFkbVWJcL+GBOalVsNYqabPtR+Cj3XPYlHD6nHMIPSZA5l1zFDWgAAAAASUVORK5CYII=":a;return i.createElement("div",{className:kn().personalizationTag,ref:Gr,style:{opacity:Or?1:0}},!!r&&i.createElement(k.ZP,{className:kn().img,src:r,lazy:Ao,"arir-hidden":!0,alt:""}),i.createElement("div",{className:kn().text},t))}return null}(),!Ti&&i.createElement("div",{className:kn().bottomTips},i.createElement(te,{data:e,imageLazy:Ao,imageProcessParam:Ma,onMouseDownCart:Kr,onQuickLookClick:Yr,addCartTrackingInfo:ir,classConfig:pt,grayConfig:Fe}),!Co&&(wo?i.createElement(bn,(0,o._)({},wo||{},{webpEnable:Me,lazy:Ao,classConfig:null==pt?void 0:pt.watermark,serverTime:Dt,rowNum:Ot})):null)))),i.createElement(U.IH,{className:s()(kn().item),id:"goodName-"+gn,title:Qt,fixed:!0,expandLeft:9,expandRight:9,expandTop:12},i.createElement(A.ZP,{className:kn().nameWrap,seoUrl:_r,jumpUrl:br,onClick:yn,index:$,pageElSn:ae,url:br,generateMouseDownHref:$r},!!(null==$a?void 0:$a.length)&&i.createElement(pe,{titleHeaderTags:$a,lazy:Ao}),i.createElement(It.Z,{name:Qt,showDiscount:Ue,discount:null==Tr?void 0:Tr.reductionTextStr,headerTag:et,classConfig:null==pt?void 0:pt.goodsName,titleRow:Yn,titleRich:ba}))),"function"==typeof Lt&&Lt(re),i.createElement("div",{className:s()(kn().saleInfo,kn().item,(0,a._)({},kn().noCart,!cr))},i.createElement(Ct.Z,{price:(null==Vo?void 0:Vo.showPriceStr)||(null==Tr?void 0:Tr.showPriceStr),pricePrefix:(null==Vo?void 0:Vo.unitPrefix)||(null==Tr?void 0:Tr.unitPrefix),priceSuffix:(null==Vo?void 0:Vo.unitSuffix)||(null==Tr?void 0:Tr.unitSuffix),marketPrice:mt?null:null==Tr?void 0:Tr.showMarketPriceStr,discount:mt?null:null==Tr?void 0:Tr.reductionTextStr,priceColor:(null==Vo?void 0:Vo.priceColor)||(null==Tr?void 0:Tr.priceColor),sales:an,salesArray:Ua,showDiscount:!Ue,noSalesTipText:Gn,classConfig:null==pt?void 0:pt.sale,isCrawler:Co,isWindows:xo,lazy:Ao,webpEnable:Me,className:kn().saleInfoL,saleFireFlag:$n,useNewSalesTip:za,textBeforeMetrics:Io,marketPriceIcon:null==Tr?void 0:Tr.marketPriceIcon,activityIconInfo:Lo,splitPriceText:(null==Vo?void 0:Vo.splitPriceText)||(null==Tr?void 0:Tr.splitPriceText),unitPriceStr:null==Tr?void 0:Tr.unitPriceStr,afterPriceShowPriority:ma,afterPriceTipText:fa,grayConfig:(0,o._)({},Fe||{},{cp124199:sr||null==Fe?void 0:Fe.cp124199}),ignoreGoodsSaleInlineScriptEffect:Zt,salesTipWithTime:pa,weakenCurrencyExp:Ea,activityType:da,goodsId:gn,hiddenDiscountAfterPrice:!0,allLocationDataDictMap:Ta,hasShowUnitSaleRef:Mr,todayTags:eo}),cr?i.createElement(N.ZP,{payload:lr},i.createElement("div",{ref:Pa,className:kn().addCartWrap},i.createElement(xt.Z,{cartAmount:qr,addCart:Ei,className:kn().saleInfoR,onMouseEnter:Oo,onMouseLeave:zo,addCartText:yi,onMouseDown:Kr}))):null),!!(null==Tr||null==(j=Tr.marketPriceIcon)?void 0:j.showLowPrice)&&i.createElement(Nt.y,{data:{marketPriceIcon:null==Tr?void 0:Tr.marketPriceIcon,marketPriceStr:null==Tr?void 0:Tr.showMarketPriceStr}}),!!(null==vo?void 0:vo.length)&&i.createElement(Wt,{data:vo,className:kn().bookAttributeTag}),!!(null==fo?void 0:fo[0])&&i.createElement(he,{data:fo[0]}),!!(null==Qo||null==(K=Qo[0])?void 0:K.text)&&i.createElement(Gt,{data:Qo,goodsId:gn,grayConfig:Fe}),Za?i.createElement(Ht,{ratio:Fa,salesPercentStr:Ba,className:kn().item,withCart:le,processTrackingInfo:Ge}):null,mt&&!kt?i.createElement(qt,{marketPrice:null==Tr?void 0:Tr.showMarketPriceStr,discount:null==Tr?void 0:Tr.reductionTextStr,className:kn().item,prefix:Ca("regularPricePrefix")}):null,mt&&kt?i.createElement(qt,{marketPrice:null==Tr?void 0:Tr.saveTextStr,discount:null==Tr?void 0:Tr.reductionTextStr,className:kn().item}):null,_o?i.createElement("div",{className:s()(kn().item,kn().promotionTagDiscount)},i.createElement("div",{className:kn().promotionPrise},(_o.promotionPrice||[]).join("")),i.createElement("div",{className:kn().promotionText},i.createElement("span",{className:kn().promotionTextScale},_o.promotionTag))):null,!!(null==oo?void 0:oo.length)&&i.createElement(Kt,{firstInstallmentTag:oo,lazy:Ao,className:kn().payTag}),!!Mi&&i.createElement(Yt.D,{displayEndTime:Li,displayEndTimePercent:+Wi,displayEndTimePercentImg:null==mo||null==(Y=mo[0])?void 0:Y.url,processStyle:{background:null==mo||null==(V=mo[0])?void 0:V.color},processWrapStyle:{background:null==mo||null==(X=mo[0])?void 0:X.backColor},countDownStyle:{color:null==mo||null==(Q=mo[0])?void 0:Q.color},className:kn().processTag}),Ai,!!Nr&&i.createElement(Ee,{data:Cr,className:s()(kn().couponTag,kn().item)}),Sr,Ar?i.createElement(i.Fragment,null,Pt(re)):null,Wr?i.createElement("div",{className:s()(kn().rateAndSaleInfo,kn().item)},i.createElement(Vt.Z,{score:(null==Pn?void 0:Pn.goodsScore)||Wn,scoreText:null==Pn?void 0:Pn.goodsScoreText,numTips:(null==Pn?void 0:Pn.commentNumTips)||Ln,showScoreNum:Xn,scoreColor:null==Pn?void 0:Pn.scoreColor,grayConfig:Fe,hiddenComment:(null==Pn?void 0:Pn.hiddenComment)||sr||(null==ga?void 0:ga.length),pageSn:ee,size:"18px"}),!!((null==ga?void 0:ga.length)||sr&&wa!==B.b)&&i.createElement(Ct.Z,{hiddenPrice:!0,sales:an,salesArray:Ua,noSalesTipText:Gn,isCrawler:Co,isWindows:xo,lazy:Ao,webpEnable:Me,saleFireFlag:$n,useNewSalesTip:za,afterPriceShowPriority:ga,afterPriceTipText:fa,salesTipWithTime:pa,goodsId:gn,allLocationDataDictMap:Ta,hasShowUnitSaleRef:Mr})):null,Lr?i.createElement(Xt.Z,{brandTagLogo:mi,brandTagText:ui,className:kn().item,grayConfig:Fe,style:{color:gi}}):null,!!(null==co?void 0:co.length)&&i.createElement(nn,{tags:co,goodsId:gn,className:kn().item,lazy:Ao,grayConfig:Fe}),!!(null==To?void 0:To[0])&&i.createElement(he,{data:To[0],className:kn().mixBenefitTag}),Zo?i.createElement(un,{className:kn().item,webpEnable:Me,imageProcessParam:Ma,setSkcIndex:Jo,currentSkcIndex:jo,setSkcLoading:Eo,skcList:Bo,commonTrackingInfo:er,trackingGoodsInfo:rr,skcTrackingInfo:ft,alt:sn||Qt}):null,!Se&&ue?i.createElement(vi,{id:gn+"5",title:Qt,hidden:!0},i.createElement("div",null,i.createElement(ue,(0,o._)({},e,{onMouseEnter:Oo,onMouseLeave:zo,onAddCartClick:Vr})))):null,Se?i.createElement(vi,{id:gn+"6",title:Qt,hidden:!0},i.createElement(N.ZP,{payload:lr},i.createElement("div",{ref:Pa},i.createElement("div",{className:kn().cartPlaceholder}),i.createElement("div",{className:kn().cartBtn,onClick:Vr,onMouseEnter:Oo,onMouseLeave:zo,role:"button",tabIndex:0},Ca("addCart"))))):null,i.createElement(Tt.H,null,i.createElement(fn,(0,o._)({},Pn,{className:kn().comment,lazy:Ao,webpEnable:Me}))))})),Cn=n(40800),xn=n(13938),Nn="hidden",Pn="visibilitychange";void 0!==document.webkitHidden&&(Nn="webkitHidden",Pn="webkitvisibilitychange");var Ln={serverTime:null,startTime:null,nowTime:null,curTime:function(){return Ln.serverTime&&Ln.startTime?(Ln.nowTime=Ln.serverTime+Date.now()-Ln.startTime,Ln.nowTime):(Ln.nowTime=Date.now(),Ln.nowTime)},initServerTime:(0,d._)((function(){var e;return(0,g.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,xn.bp)()];case 1:return e=t.sent(),Ln.serverTime=e,Ln.startTime=Date.now(),Ln.nowTime=Date.now(),[2]}}))}))};"undefined"!=typeof window&&Ln.initServerTime();var Wn=n(40600),Mn=function(e){var t,n=e.max,a=void 0===n?59:n,o=e.parentDom,r=void 0===o?"":o,l=e.scaleEleRatioMap,s=void 0===l?{}:l;try{t=JSON.stringify(s)}catch(e){}return i.createElement("script",{dangerouslySetInnerHTML:{__html:'(function() {"use strict";var __assign=(this&&this.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __rest=(this&&this.__rest)||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t};var md=function(D,E){var F;if(E===void 0){E={}}try{var G={1:\'saleTips\',2:\'marketPrice\',3:\'discount\',4:\'unitPrice\',5:\'noSaleTips\',8:\'salesTipwithTime\',9:\'unitSale\',};var H={price:\'price\',saleText:\'saleTips\',marketPrice:\'marketPrice\',reduction:\'discount\',unitPrice:\'unitPrice\',afterPriceTipText:\'noSaleTips\',salesTipwithTime:\'salesTipwithTime\',priceText:\'priceText\',unitSale:\'unitSale\',};var I=[H.afterPriceTipText,H.saleText,H.unitSale,H.salesTipwithTime,];if(!D){return}var J=0.84;var K=0.88;var L=6;var M=6;var N=4;var O=\'width: 0px;opacity:0;margin:0;pointer-events:none;\';var P=D.querySelector("[data-type=price]");var Q=D.querySelector("[data-type=marketPrice]");var R=D.querySelector("[data-type=saleTips]");var S=D.querySelector("[data-type=discount]");var T=D.querySelector("[data-type=priceIcon]");var U=D.querySelector("[data-type=priceText]");var V=D.querySelector("[data-type=unitPrice]");var W=D.querySelector("[data-type=noSaleTips]");var X=D.querySelector("[data-type=salesTipwithTime]");var Y=D.querySelector("[data-type=unitSale]");var Z=function(){return{price:(P===null||P===void 0?void 0:P.offsetWidth)||0,marketPrice:(Q===null||Q===void 0?void 0:Q.offsetWidth)||0,discount:(S===null||S===void 0?void 0:S.offsetWidth)||0,saleTips:(R===null||R===void 0?void 0:R.offsetWidth)||0,priceIcon:(T===null||T===void 0?void 0:T.offsetWidth)||0,priceText:(U===null||U===void 0?void 0:U.offsetWidth)||0,unitPrice:(V===null||V===void 0?void 0:V.offsetWidth)||0,noSaleTips:(W===null||W===void 0?void 0:W.offsetWidth)||0,salesTipwithTime:(X===null||X===void 0?void 0:X.offsetWidth)||0,unitSale:(Y===null||Y===void 0?void 0:Y.offsetWidth)||0,}};var ba=function(){var a,_b;return{priceIcon:{ratio:((a=T===null||T===void 0?void 0:T.dataset)===null||a===void 0?void 0:a.ratio)?+((_b=T===null||T===void 0?void 0:T.dataset)===null||_b===void 0?void 0:_b.ratio):undefined,},}};var bb=function(a,b,c,d){if(c===void 0){c=true}if(d===void 0){d=0}if(b<=0){return O}if(a>=1){return"margin-inline-start:".concat(d,"px")}var e=b*(1-a);return"".concat(c&&b?"width:".concat(b,"px;"):\'\',"-webkit-transform: scale(").concat(a,") translateZ(0);transform:scale(").concat(a,") translateZ(0);margin-inline-start: ").concat(d?"".concat(d,"px"):\'\',";margin-inline-end: ").concat(e?"".concat(-e,"px"):\'\')};var bc=function(a,b){if(b===void 0){b=0}if(a<=0||a>1){return b}return Math.ceil(b*a)};var bd=function(a,b){if(a>=1){return 1}return Math.max(a,b)};var be=function(b,c){var d=0;Object.values(b).forEach(function(a){d+=a?c:0});return d};var bf=function(b){var c;var d=b.width,bn=d===void 0?0:d,_d=b.priceText,priceText=_d===void 0?0:_d,price=b.price,bk=b.attrsMap,map=__rest(b,["width","priceText","price","attrsMap"]);var e=be(map,L);var f=Object.values(map).reduce(function(a,v){if(v===void 0){v=0}return a+v},0);if(!f)return{};var g=map.unitPrice,unitPrice=g===void 0?0:g,_f=map.discount,discount=_f===void 0?0:_f,_g=map.marketPrice,marketPrice=_g===void 0?0:_g,_h=map.saleTips,saleTips=_h===void 0?0:_h,_j=map.priceIcon,priceIcon=_j===void 0?0:_j,_k=map.noSaleTips,noSaleTips=_k===void 0?0:_k,_l=map.salesTipwithTime,salesTipwithTime=_l===void 0?0:_l,_m=map.unitSale,unitSale=_m===void 0?0:_m;var h=f+priceText+price+e+M-bn;if(h<=0){return{unitPrice:!unitPrice?O:undefined,discount:!discount?O:undefined,marketPrice:!marketPrice?O:undefined,saleTips:!saleTips?O:undefined,priceIcon:!priceIcon?O:undefined,priceText:!priceText?O:undefined,noSaleTips:!noSaleTips?O:undefined,salesTipwithTime:!salesTipwithTime?O:undefined,unitSale:!unitSale?O:undefined,}}var i=be(map,N);var j=be(map,L-N);var k={};var l=(h-j)/(f+priceText);var m=1-l;var n=bd(m,J);var o=E.priceText||n;var p=((c=bk===null||bk===void 0?void 0:bk.priceIcon)===null||c===void 0?void 0:c.ratio)||n;var q=bc(n,marketPrice);var r=bc(n,noSaleTips);var s=bc(n,saleTips);var t=bc(n,discount);var u=bc(n,unitPrice);var w=bc(o,priceText);var x=bc(p,priceIcon);var y=bc(n,salesTipwithTime);var z=bc(n,unitSale);k.marketPrice=bb(n,marketPrice,true,N);k.saleTips=bb(n,saleTips,true,N);k.discount=bb(n,discount,true,N);k.unitPrice=bb(n,unitPrice,true,N);k.noSaleTips=bb(n,noSaleTips,true,N);k.priceText=bb(o,priceText,true,N);k.priceIcon=bb(p,priceIcon,true,N);k.salesTipwithTime=bb(n,salesTipwithTime,true,N);k.unitSale=bb(n,unitSale,true,N);if(m>=J){return k}var A=price+q+s+t+u+i+r+priceIcon+priceText+w+x+y+z+unitPrice-bn;var B=1-A/price;var C=bd(B,K);k.price=bb(C,price,false);if(B>=K){return k}return null};var bg=function(a,b,c,d,e){var f;if(c===void 0){c=[]}if(d===void 0){d=false}if(!b||!a){return{}}var g;var h=a.price,price=h===void 0?0:h,_c=a.priceIcon,priceIcon=_c===void 0?0:_c,_d=a.priceText,priceText=_d===void 0?0:_d;if(b-price<10){return{}}var j={};for(var i=0;i<(c===null||c===void 0?void 0:c.length);i++){var k=c.slice(i);var l=void 0;for(var m=0;m<k.length;m++){var n=l&&!a[l];if(!n){g=bf(__assign(__assign(__assign({width:b},a),j),(f={},f[l]=0,f.attrsMap=e,f)))}l=k[m];if(g)break}var o=c[i];j[o]=0;if(g)break}if(d)return g;if(!g&&priceIcon&&priceText){var p=b-price-priceIcon-priceText;if(p+priceIcon>=0){return{priceIcon:__assign(__assign({},O),{width:\'1px\'}),}}if(p+priceText>=0){return{priceText:O,}}}return(g||{priceIcon:O,priceText:O,})};var bh=function(a){D.className+=\' show\';if(a.price&&P){P.style=a.price}if(a.marketPrice&&Q){Q.style=a.marketPrice}if(a.discount&&S){S.style=a.discount}if(a.saleTips&&R){R.style=a.saleTips}if(a.priceIcon&&T){T.style=a.priceIcon}if(a.priceText&&U){U.style=a.priceText}if(a.unitPrice&&V){V.style=a.unitPrice}if(a.noSaleTips&&W){W.style=a.noSaleTips}if(a.salesTipwithTime&&X){X.style=a.salesTipwithTime}if(a.unitSale&&Y){Y.style=a.unitSale}};var bi=function(a,b,c){var d=a;if(!c.includes(a)){return b}if(!c.includes(b)){return a}for(var i=0;i<c.length;i++){var e=c[i];if([a,b].includes(e)){d=e;break}}return d===a?b:a};var bj=Z();var bk=ba();var bl=(F=D.dataset)===null||F===void 0?void 0:F.priorityList;var bm=bl.split(\'\').map(function(a){return G[a]});var bn=Math.floor(D.offsetWidth);var bo=void 0;var bp=function(){var b;var c=[];var d={};I.forEach(function(a){d[a]=0});var e=bm.length;for(var i=e-1;i>=0;i--){var f=bm[i];var g=!!bj[f];if(g&&I.includes(f)){c.push(__assign(__assign({},d),(b={},b[f]=bj[f],b)))}}return c};var bq=bp({map:bj,hiddenPriorityList:bm,});var br=bm.length;var bs={};for(var i=0;i<bq.length-1;i++){var bt=bq[i]||{};bo=bg(__assign(__assign({},bj),bt),bn,bm,true,bk);if(bo){break}}if(!bo){for(var i=0;i<br;i++){var bu=br-1-i;var bv=bm[bu];bo=bg(__assign(__assign({},bj),bs),bn,bm,i!==br-1,bk);bs[bv]=0;if(bo){break}}}bo&&bh(bo)}catch(e){}};var max='+a+';var parentDom="'+r+'"?document.querySelector("'+r+'"):document;var doms=parentDom===null||parentDom===void 0?void 0:parentDom.querySelectorAll("[data-sales=true]");if((doms===null||doms===void 0?void 0:doms.length)>0){for(var i=0;i<doms.length;i++){if(i>max){break}md(doms[i], '+t+")}};})();"}})},An=(0,i.memo)(Mn),Dn=n(91851),Rn=n(73463),Gn=n.n(Rn),On=(n(80978),n(11183),n(4256),n(25731),n(14635)),zn=n(81518);var Un,Hn=function(e){document.dispatchEvent(new CustomEvent(Ie,{detail:{data:e}}))},Fn=100010043,Bn=function(e){var t=e.goodsList,a=(0,i.useRef)(),o=(0,i.useRef)({}),r=(0,W.lO)().isCrawler;(0,i.useEffect)((function(){null==t||t.forEach((function(e){var t=(null==e?void 0:e.data)||{},n=t.goodsId,a=t.currentSkuId;o.current[n]=a}))}),[t]);var l=(0,i.useCallback)((0,d._)((function(e){var t,n,a,r,i;return(0,g.Jh)(this,(function(l){switch(l.label){case 0:return t=[],null==e||e.forEach((function(e){var n=o.current[e];n&&t.push({goods_id:+e,show_price_sku_id:n})})),t.length?[4,(0,Ze.S6)({url:"/api/promotion/goods/discount/info/refresh/query",params:{goods_info_list:t}}).catch((function(e){var n=new Error("updateDiscountPriceError");(0,F.K2)(n,{errorMsg:null==e?void 0:e.message,goodsInfoList:t})}))]:[2];case 1:return n=l.sent(),r=(a=n||{}).cancelDisplayTagMap,i=a.goodsDiscountInfoDisplayTagMap,Object.keys(r||{}).forEach((function(e){var t=(r[e]||{}).goodsPrice,n=(0,qe.Ig)(t),a=null==n?void 0:n.splitPriceText;Hn({goodsId:+e,hasSpecialOffer:!1,showPriceStr:null==n?void 0:n.showPriceStr,priceColor:null==n?void 0:n.priceColor,unitPrefix:null==n?void 0:n.unitPrefix,unitSuffix:null==n?void 0:n.unitSuffix,specialOfferTag:[{endTime:0,text:""}],splitPriceText:(null==a?void 0:a.length)?a:void 0})})),Object.keys(i||{}).forEach((function(e){var t,n=(null==(t=i[e])?void 0:t[0])||{},a=n.afterDiscountPrice,o=n.endTime,r=n.discountInfoTag,l=n.tagType,s=n.tagStyle,c=n.tagIcon,u=(0,qe.Ig)(a),d=null==u?void 0:u.splitPriceText,m={goodsId:+e,hasSpecialOffer:!0,showPriceStr:null==u?void 0:u.showPriceStr,priceColor:null==u?void 0:u.priceColor,unitPrefix:null==u?void 0:u.unitPrefix,unitSuffix:null==u?void 0:u.unitSuffix,specialOfferTag:[{endTime:o,text:null==r?void 0:r.tagStr,tagType:l,color:null==r?void 0:r.tagColor,extMap:{tagStyle:s,tagEndStr:null==r?void 0:r.tagEndStr,tagEndStrColor:null==r?void 0:r.tagEndStrColor,tagIcon:c}}],splitPriceText:(null==d?void 0:d.length)?d:void 0};Hn(m)})),[2]}}))})),[]);return(0,i.useEffect)((function(){if(!r&&!window.__TITAN_BOT__){var e=(0,d._)((function(){var e,t,o,r;return(0,g.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(6986),n.e(4881)]).then(n.bind(n,86986))];case 1:return e=i.sent(),o=(t=e||{}).Titan,r=t.Unicast,o.usePlugin(r),a.current=new o({url:"wss://"+location.host,appId:10001,projectName:"bui-web-goods-list",bizType:Fn}),a.current.on("message",(function(e){var t=e||{},n=t.actionId,a=t.payload;if(+n===Fn){var o=(a||{}).goods_id_list;(null==o?void 0:o.length)&&l(o)}})),a.current.connect(),[2]}}))}));(0,On.J)((0,zn.ej)()).then((function(t){t&&e()}))}}),[r,l]),(0,i.useEffect)((function(){var e=[],t=(0,d._)((function(t){var n,a;return(0,g.Jh)(this,(function(o){switch(o.label){case 0:return(n=((null==t?void 0:t.detail)||{}).goodsId)&&e.push(n),[4,(r=1e3,new Promise((function(e){setTimeout(e,r)})))];case 1:for(o.sent();e.length;)(null==(a=e.splice(0,5))?void 0:a.length)&&l(a);return[2]}var r}))}));return document.addEventListener(Se,t),function(){document.removeEventListener(Se,t)}}),[l]),null};!function(e){e[e.noChange=0]="noChange",e[e.addToPurchase=1]="addToPurchase",e[e.reducePurchase=2]="reducePurchase"}(Un||(Un={}));var Zn=function(e){var t,n=e.datasource,a=e.pageSn,o=e.apiScene,r=e.grayConfig,l=e.setDatasource,s=(0,i.useRef)(),u=!!(null==r||null==(t=r.cp99510)?void 0:t.openCouponRefresh)&&["home","search","goods_detail_like","shopping_cart"].includes(o);(0,i.useEffect)((function(){u&&((0,Ze.KU)(),s.current=(0,On.J)(Ze.be).catch((function(){return!1})))}),[u]);var m=(0,c.t)((0,d._)((function(e){var t,o,r,i,c,d,m,f,p,h,T,b,_,w,k,y,E,S,I,C;return(0,g.Jh)(this,(function(g){switch(g.label){case 0:return t=e.reduceGoodsIdList,o=e.addGoodsIdList,r=e.cartGoodsNumMap,u?[4,s.current]:[2];case 1:if(!g.sent())return[2];g.label=2;case 2:for(g.trys.push([2,4,,5]),d=[],m=0;m<(null==n?void 0:n.length);m++)f=null==n?void 0:n[m],p=f.data,h=f.refreshInfo,b=(T=p||{}).goodsId,_=T.currentSkuId,w=T.goodsListPromotionType,b&&(k=0,(null==o?void 0:o.includes(+b))&&(k=1),(null==t?void 0:t.includes(+b))&&(k=2),d.push({goods_id:b,sku_id:_,last_goods_list_promotion_type:h?h.goodsListPromotionType:w,sku_change_status:k,cart_amount:null==r?void 0:r[b]}));return(null==d?void 0:d.length)?(y=d.slice(0,200),E={listId:(0,v.x)(32),offset:0,pageSize:null==y?void 0:y.length,pageSn:a,scene:"refresh_search",goods_sku_pairs:y},[4,(0,Ze.S6)({url:(0,Ze.mx)("api/poppy/v1/search",E),params:E,config:{useAntiToken:!0}})]):[2];case 3:return S=g.sent(),(null==(I=null==S||null==(c=S.result)||null==(i=c.data)?void 0:i.goodsList)?void 0:I.length)?(I.forEach((function(e){var t=e||{},a=t.goodsId,o=t.priceInfo,r=t.tagsInfo,i=t.goodsListPromotionType,l=null==n?void 0:n.find((function(e){var t;return(null==e||null==(t=e.data)?void 0:t.goodsId)===a}));l&&(l.refreshInfo={priceInfo:o,tagsInfo:r,goodsListPromotionType:i})})),l((0,Me._)(n)),[3,5]):[2];case 4:return C=g.sent(),(0,F.K2)(C),[3,5];case 5:return[2]}}))})));!function(e){var t=e.updateCb,n=(0,i.useRef)({});(0,i.useEffect)((function(){var e=(0,Ae.Kd)((function(e){try{var a=(e||{}).cartGoodsNumMap;if(!a)return;for(var o=[],r=[],i=Object.keys(n.current||{}),l=Object.keys(a||{}),s=Array.from(new Set((0,Me._)(i).concat((0,Me._)(l)))),c=s.length,u=0;u<c;u++){var d=s[u],m=a[d]||0,g=n.current[d]||0;m!==g&&(m>g?r.push(+d):o.push(+d))}t({reduceGoodsIdList:o,addGoodsIdList:r,cartGoodsNumMap:a}),n.current=a}catch(e){(0,F.K2)(e,{errorModule:"useCartGoodsUpdateDetailHook"})}}));return function(){e()}}),[t])}({updateCb:m})},qn=function(e){var t=(0,i.memo)((function(t){var n=t.defaultCartGoodsNumMap,a=t.apiScene,r=t.pageSn,l=t.grayConfig,s=(0,i.useRef)(n||{}),c=(0,i.useRef)([]),u=(0,i.useMemo)((function(){return(0,v.x)(10)}),[]),d=(0,i.useCallback)((function(e){var t=!1,n=s.current,a=e.map((function(e){var a,r,i=(null==e||null==(a=e.data)?void 0:a.goodsId)||(null==e?void 0:e.goodsId)||null,l=(null==(r=c.current)?void 0:r.find((function(e){var t;return(null==e||null==(t=e.data)?void 0:t.goodsId)===i})))||{};if(i){var s;if("number"!=typeof e.cartAmount)return t=!0,(0,o._)({},l,e,{cartAmount:n[i]||(null==e||null==(s=e.data)?void 0:s.cartAmount)||0});var u=n[i]||0;if((null==e?void 0:e.cartAmount)!==u)return t=!0,(0,o._)({},l,e,{cartAmount:u})}return e}));return t?a:e}),[]),g=(0,m._)((0,i.useState)(d(t.datasource||[])),2),f=g[0],p=g[1];return Fe({setDatasource:p,props:(0,o._)({},t,{privateListId:u})}),(0,i.useEffect)((function(){var e=d(t.datasource||[]);p(e)}),[d,t.datasource,p]),(0,i.useEffect)((function(){c.current=f}),[f]),Bn({goodsList:f}),Zn({datasource:f,apiScene:a,pageSn:r,grayConfig:l,setDatasource:p}),i.createElement(e,(0,o._)({},t,{datasource:f,setDatasource:p,privateListId:u}))})),n=e.displayName||e.name;return t.displayName="withCartAmount("+n+")",Gn()(t,e),t},jn=n(80629),Jn=n.n(jn),Kn=qn((0,i.memo)((function(e){var t,n,l,d=e.pageSn,g=e.pageElSn,f=e.isMainGoods,p=void 0!==f&&f,v=e.cartScene,h=e.rowNum,T=e.loadMode,b=e.className,_=void 0===b?"":b,w=e.pageGoodsNum,k=void 0===w?20:w,y=e.title,E=e.datasource,S=e.setDatasource,I=e.canAddToCart,C=void 0===I||I,x=e.CustomGoodsBtn,N=e.useCartBtn,P=e.forwardGoodsParams,L=e.openGoodsWithNewTab,W=e.openRecommendWordsWithNewTab,M=e.beforeClickCart,A=e.onGoodsClick,D=e.onQuickLookClick,R=e.onAddCartClick,G=e.onSkuPanelClose,O=e.onSkuPanelSuccess,z=e.hasMore,H=e.language,F=e.isShowSkc,B=e.isShowSimilar,Z=e.isBackAutoShowSimilar,q=e.isShowBillboardTip,j=e.billboardTipProps,J=e.isBackAutoShowCategoryCard,K=e.webpEnable,Y=e.grayConfig,V=e.cardWidth,X=e.useGlobalAutoFitListClassName,Q=void 0===X||X,$=e.listClassName,ee=e.goodsCardClassName,te=e.quickLook,ne=e.startLazyIndex,ae=e.imageRootMargin,oe=e.showDiscountOnName,re=e.isOpenSaleInfoScale,ie=void 0===re||re,le=e.saleInfoInlineScriptConfig,se=e.isShowHoverImage,ce=void 0===se||se,ue=e.skuParams,de=void 0===ue?{}:ue,me=e.skuOptions,ge=void 0===me?{}:me,fe=e.goodsNameTag,pe=e.hoverTheme,ve=void 0===pe?Dn.P.DEFAULT:pe,he=e.isShowComment,Te=void 0===he||he,be=e.isShowProcess,_e=e.processTrackingInfo,we=void 0===_e?{}:_e,ke=e.commonGoodsTrackingInfo,ye=void 0===ke?{}:ke,Ee=e.skcTrackingInfo,Se=void 0===Ee?{}:Ee,Ie=e.showMarketInfo,Ce=e.classConfig,xe=e.showSavePrice,Ne=e.renderTopTips,Pe=e.renderBottomTips,Le=e.renderTags,We=e.renderTagsBeforePrice,Me=e.userAgent,Ae=e.goodsConfig,De=(e.serverTime,e.renderCustomizeTags),Re=e.listId,Ge=e.emageProgress,Oe=e.hiddenTooltipItem,ze=e.ignoreGoodsSaleInlineScriptEffect,Ue=e.getItemProps,He=e.privateListId,Fe=(0,r._)(e,["pageSn","pageElSn","isMainGoods","cartScene","rowNum","loadMode","className","pageGoodsNum","title","datasource","setDatasource","canAddToCart","CustomGoodsBtn","useCartBtn","forwardGoodsParams","openGoodsWithNewTab","openRecommendWordsWithNewTab","beforeClickCart","onGoodsClick","onQuickLookClick","onAddCartClick","onSkuPanelClose","onSkuPanelSuccess","hasMore","language","isShowSkc","isShowSimilar","isBackAutoShowSimilar","isShowBillboardTip","billboardTipProps","isBackAutoShowCategoryCard","webpEnable","grayConfig","cardWidth","useGlobalAutoFitListClassName","listClassName","goodsCardClassName","quickLook","startLazyIndex","imageRootMargin","showDiscountOnName","isOpenSaleInfoScale","saleInfoInlineScriptConfig","isShowHoverImage","skuParams","skuOptions","goodsNameTag","hoverTheme","isShowComment","isShowProcess","processTrackingInfo","commonGoodsTrackingInfo","skcTrackingInfo","showMarketInfo","classConfig","showSavePrice","renderTopTips","renderBottomTips","renderTags","renderTagsBeforePrice","userAgent","goodsConfig","serverTime","renderCustomizeTags","listId","emageProgress","hiddenTooltipItem","ignoreGoodsSaleInlineScriptEffect","getItemProps","privateListId"]);l=Date.now();var Be,Ze,qe,je,Je,Ke,Ye,Ve,Xe,Qe,$e,et,tt,nt,at,ot=(0,c.t)((function(e){return null==Ue?void 0:Ue(e)})),rt=(0,i.useCallback)((function(e){var t=e.index,n=e.data,a=n.data,s=n.refreshInfo,c=(0,r._)(n,["data","refreshInfo"]),u=ot(a)||{};return i.createElement(In,(0,o._)({pageSn:d,pageElSn:g,isMainGoods:p,cartScene:v,key:a.goodsId},c,{index:t,canAddToCart:C,goodsInfo:a,skuParams:de,skuOptions:ge,CustomGoodsBtn:x,useCartBtn:N,language:H,showDiscountOnName:oe,forwardGoodsParams:P,openGoodsWithNewTab:L,openRecommendWordsWithNewTab:W,beforeClickCart:M,onGoodsClick:A,onQuickLookClick:D,onAddCartClick:R,onSkuPanelClose:G,onSkuPanelSuccess:O,webpEnable:K,isShowComment:Te,isShowSkc:F,isShowSimilar:B,isShowBillboardTip:q,billboardTipProps:j,grayConfig:Y,quickLook:te,startLazyIndex:ne,imageRootMargin:ae,isBackAutoShowSimilar:Z,isOpenSaleInfoScale:ie,isShowHoverImage:ce,isShowProcess:be,processTrackingInfo:we,goodsNameTag:fe,hoverTheme:ve,isBackAutoShowCategoryCard:J,commonGoodsTrackingInfo:ye,skcTrackingInfo:Se,showMarketInfo:Ie,classConfig:Ce,setDatasource:S,showSavePrice:xe,renderTopTips:Ne,renderBottomTips:Pe,renderTags:Le,renderTagsBeforePrice:We,userAgent:Me,goodsConfig:Ae,serverTime:l,rowNum:h,renderCustomizeTags:De,listId:Re,emageProgress:Ge,privateListId:He,ignoreGoodsSaleInlineScriptEffect:ze,refreshInfo:s},u))}),[v,ce,Ge,He,N,x,C,ot]),it=(null==E?void 0:E.length)||0,lt=(0,i.useMemo)((function(){return z&&h&&it>h?it%h:0}),[z,it,h]),st=(je=(Ze={accuracy:1e3}).accuracy,Je=void 0===je?1e3:je,Ke=Ze.startCount,Ye=void 0===Ke||Ke,Ve=(0,m._)((0,i.useState)(Date.now()),2),Xe=Ve[0],Qe=Ve[1],$e=(0,m._)((0,i.useState)(!1),2),et=$e[0],tt=$e[1],nt=(0,i.useCallback)((function(){!et&&Ye&&(qe=setInterval((function(){if(!document[Nn]||"hidden"!==document.visibilityState){var e=Ln.curTime();Qe(e)}}),Je),tt(!0))}),[et,Je]),at=function(){document[Nn]&&"visible"!==document.visibilityState?(window.clearInterval(qe),tt(!1)):nt()},(0,i.useEffect)((function(){return!et&&Ye&&(nt(),document.addEventListener(Pn,at)),function(){qe&&window.clearInterval(qe),Ye&&document.removeEventListener(Pn,at)}}),[Je,Ye]),Xe);Be=T&&"manual"!==T||!h?E:lt?E.slice(0,it-lt):E;var ct=(null==le?void 0:le.jsClassName)||"js-goods-list",ut=(null==Y||null==(t=Y.cp116861)?void 0:t.value)?1200:100,dt=(null==Y||null==(n=Y.cp116861)?void 0:n.value)?500:0;return i.createElement(U.u,{className:s()(_,(0,a._)({},ct,!0)),hidden:Oe,delayShow:ut,noDelayShowInterval:dt},y?i.createElement("div",{className:Jn().title},y):null,z&&!(null==Be?void 0:Be.length)?i.createElement("div",{className:s()(Jn().autoFitList,$,{autoFitList:Q}),role:"region"},new Array(k).fill(0).map((function(e,t){return i.createElement("div",{className:s()(Jn().cardWrap,ee),style:{width:V,padding:9},key:t},i.createElement(Wn.Z,{useCartBtn:N}))}))):i.createElement(u.JB.Provider,{value:{nowTime:st}},i.createElement(Cn.Z,(0,o._)({wrapperClass:s()(Jn().autoFitList,$,{autoFitList:Q}),goodsCardClassName:ee,itemKey:"goodsId",renderItem:rt,ssrRenderLength:k,datasource:Be,hasMore:z,loadMode:T,itemWidth:V,useItemWrap:!(null==Fe?void 0:Fe.renderItem),useGoodsFilter:!(null==Fe?void 0:Fe.renderItem)},Fe,{pageSn:d,listId:Re,grayConfig:Y,useCartBtn:N}))),i.createElement(An,{parentDom:"."+ct,max:(null==le?void 0:le.max)||60}))})))},4628:function(e,t,n){"use strict";n.d(t,{Z:function(){return T},x:function(){return a}});var a,o=n(81862),r=n(94761),i=n(62960),l=n(35565),s=n(5163),c=(n(69460),n(87184)),u=n(23075),d=n(6552),m=n(73686),g=n(99971),f=n(95066),p=n(41373);!function(e){e.SIMILAR="sku_close_similar",e.BOUGHT_TOGETHER="mall_bought_together",e.BOUGHT_TOGETHER_LANDING="mall_bought_together_landing",e.RECOMMEND_WORDS_SKU_CLOSE="sku_close_recommend_words",e.RECOMMEND_WORDS_GT_RETURN="gd_return_recommend_words",e.ADD_CART_SUCCESS_RELEATED="shopping_cart_add_show_floating_layer"}(a||(a={}));var v={goodsList:[],hasMore:!0},h={goodsList:[],hasMore:!1};function T(e){var t=e.listId,n=e.pageSn,a=e.goodsId,T=e.pageSize,b=void 0===T?10:T,_=e.scene,w=e.pageElSn,k=void 0===w?205632:w,y=e.source,E=e.topGoods,S=e.showNewSimilarDialog,I=e.imgSearchUrl,C=(0,c.useRef)([]),x=(0,i._)((0,c.useState)(v),2),N=x[0],P=x[1],L=(0,o._)((function(e){var o,r,i,l,c,v,T,w,C,x,N,P,L,W,M,A;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return o=(e||{}).offset,r=void 0===o?0:o,i=_||e.scene,l=f.ce.MALL_HOME_RECOMMEND,"sku_close_similar"===i&&(l=f.ce.GOODS_DETAIL),"sku_close_similar"===i&&S?I?(v=(0,u.FT)(I,m.DJ.GOODS_MIDDLE),[4,(0,p.y)(v)]):[3,2]:[3,4];case 1:if(!(c=s.sent()))return[2,h];s.label=2;case 2:return[4,(0,g.Q8)({pageElSn:222268,pageSn:n,offset:0,listId:(0,d.x)(32),imgSearchBytes:c})];case 3:return T=s.sent(),C=(w=T||{}).goodsList,x=w.hasMore,N=w.rankColumFilter,(null==C?void 0:C.length)?[2,{goodsList:C,hasMore:x,imgSearchBytes:c,rankColumFilter:N}]:[2,h];case 4:return[4,(0,f.$h)(l,{pageSn:n,mainGoodsIds:[a],listId:t||(0,d.x)(6),offset:r,pageSize:b,scene:i,source:y,pageElSn:k,goodsId:a,topGoods:0===r?E:void 0})];case 5:return(P=s.sent())&&P.success&&P.result?(L=P.result,W=L.data,M=L.hasMore,[2,{goodsList:null!=(A=W.goodsList)?A:[],hasMore:M}]):[2,h]}}))})),W=(0,o._)((function(e){var t,n,a,o,r,i,l;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return(null==(t=C.current)?void 0:t.length)>0?[2]:[4,L(e)];case 1:return n=s.sent(),a=n.goodsList,o=void 0===a?[]:a,r=n.hasMore,i=n.imgSearchBytes,l=n.rankColumFilter,C.current=o,P({goodsList:C.current,hasMore:r,imgSearchBytes:i,rankColumFilter:l}),[2]}}))})),M=(0,o._)((function(){var e,t,n,a,o;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return[4,L({offset:null==(e=C.current)?void 0:e.length})];case 1:return t=r.sent(),n=t.goodsList,a=void 0===n?[]:n,o=t.hasMore,C.current=(0,l._)(C.current).concat((0,l._)(a)),P({goodsList:C.current,hasMore:o}),[2]}}))}));return(0,r._)({},N,{loadData:W,loadMore:M,clear:function(){return 0!==C.current.length&&(C.current=[],P(v),!0)}})}},6932:function(e,t,n){"use strict";n.d(t,{H:function(){return b}});var a=n(87612),o=n(94761),r=n(12330),i=n(62960),l=n(87184),s=n(72779),c=n.n(s),u=n(30593),d=n(61812),m=n(21737),g=n(23653),f=n(68432),p=n(3064),v=n.n(p),h=function(e){var t=e.className,n=e.noHover,a=e.payload,r=e.onClick,i=e.goodsId,s=e.title,f=e.classConfig,p=e.children,h=e.tooltipDisabled,T=e.onMouseUp,b=(0,d.F)({onClick:r,tabIndex:-1,role:"link"}),_=h?g.E:m.IH;return l.createElement(u.ZP,{payload:a},l.createElement("div",(0,o._)({className:c()(v().defaultContainer,t,null==f?void 0:f.goodsItemWrap),"aria-label":s},b,{onMouseUp:T}),l.createElement(_,{className:c()(v().inner,null==f?void 0:f.goodsItem),id:"goodContainer-"+i,title:s,hidden:n},p)))},T=function(e){var t,n=e.className,r=e.noHover,s=e.payload,g=e.onClick,f=e.goodsId,p=e.title,h=e.children,T=e.classConfig,b=e.onMouseUp,_=(0,i._)((0,l.useState)(),2),w=_[0],k=_[1],y=(0,l.useRef)(null),E=(0,d.F)({onClick:g,tabIndex:-1,role:"link"}),S=(0,l.useCallback)((function(){y.current&&k({height:y.current.offsetHeight+"px"})}),[]);return(0,l.useEffect)((function(){return S(),window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}}),[S]),l.createElement(u.ZP,{payload:s},l.createElement("div",(0,o._)({className:c()(v().defaultContainer,n,(t={},(0,a._)(t,v().expandContainer,!!w),(0,a._)(t,v().noHover,r),t),null==T?void 0:T.goodsItemWrap),"aria-label":p},E,{onMouseUp:b}),l.createElement("div",{style:w,className:v().placeholder}),l.createElement("div",(0,o._)({className:v().inner},(0,m.pk)({id:"goodContainer-"+f,title:p,fixed:!1,hidden:r}),{ref:y}),h)))},b=function(e){var t=e.children;return l.createElement("div",{className:v().expandContent},t)},_=function(e){var t=e.type,n=(0,r._)(e,["type"]);return t===f.l.expand?l.createElement(T,n):l.createElement(h,n)};t.Z=(0,l.memo)(_)},68432:function(e,t,n){"use strict";var a,o;n.d(t,{P:function(){return o},l:function(){return a}}),function(e){e.default="default",e.expand="expand"}(a||(a={})),function(e){e.DEFAULT="DEFAULT",e.SCALE="SCALE",e.NONE="NONE"}(o||(o={}))},47321:function(e,t,n){"use strict";var a=n(81862),o=n(87612),r=n(94761),i=n(62960),l=n(5163),s=n(87184),c=n(72779),u=n.n(c),d=n(95239),m=n(23075),g=n(41222),f=n.n(g),p=(0,s.forwardRef)((function(e,t){var n=e.videoURL,c=e.poster,g=e.className,p=e.isCrawler,v=e.style,h=(0,s.useRef)(null),T=(0,s.useRef)(),b=(0,s.useRef)(),_=(0,i._)((0,s.useState)({show:p,isPlayVideo:!1}),2),w=_[0],k=_[1],y=(0,s.useCallback)((function(e){var t=e.restart,a=void 0===t||t,o=e.cb;n&&!w.isPlayVideo&&(!w.show&&k((function(e){return(0,r._)({},e,{show:!0})})),T.current=setTimeout((function(){(null==h?void 0:h.current)&&(o&&o(!0),k((function(e){return(0,r._)({},e,{isPlayVideo:!0})})),a&&(h.current.currentTime=0),b.current=h.current.play())}),500))}),[n,w.isPlayVideo]),E=(0,s.useCallback)((0,a._)((function(e){var t;return(0,l.Jh)(this,(function(a){switch(a.label){case 0:return t=e.cb,n&&(null==h?void 0:h.current)?(clearTimeout(T.current),t&&t(!1),k((function(e){return(0,r._)({},e,{isPlayVideo:!1})})),[4,b.current]):[2];case 1:return a.sent(),h.current.pause(),[2]}}))})),[n]);(0,s.useEffect)((function(){return function(){(null==T?void 0:T.current)&&clearTimeout(null==T?void 0:T.current)}}),[]),(0,s.useImperativeHandle)(t,(function(){return{onStart:y,onStop:E}}),[]);var S=(0,s.useMemo)((function(){return c?(0,d.Hm)((0,m.FT)(c,{webpEnable:!0,resizeWidth:500,quality:60})):""}),[c]);return(0,s.useEffect)((function(){return function(){(null==T?void 0:T.current)&&clearTimeout(null==T?void 0:T.current)}}),[]),n&&c&&w.show?s.createElement("video",{style:v,src:(0,d.Hm)(n),poster:S,ref:h,muted:!0,loop:!0,className:u()(f().video,g,(0,o._)({},f().videoPlay,w.isPlayVideo))}):null}));t.Z=(0,s.memo)(p)},23653:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var a=n(87184),o=(0,a.memo)((function(e){var t=e.children,n=e.className;return a.createElement("div",{className:n},t)}))},6232:function(e,t,n){"use strict";n.d(t,{ZP:function(){return W}});var a=n(94761),o=n(12330),r=n(62960),i=(n(67904),n(87246),n(87184)),l=n(95239),s=n(26586),c=n(8246),u=n(84256),d=n(72779),m=n.n(d),g=n(36994),f=n(58767),p=n(12032),v=n.n(p),h=function(e,t){return g.Z.uniformForward(e)},T=function(){},b=function(e,t){var n=e.href,o=e.onClick,l=void 0===o?h:o,s=e.className,c=e.children,u=e.domAttributes,d=e.onMouseDown,g=void 0===d?T:d,p=(0,i.useRef)(null),b=(0,r._)((0,i.useState)(!0),2),_=b[0],w=b[1],k=(0,i.useCallback)((function(e){l(n,e)}),[n,l]);return(0,i.useEffect)((function(){w(!1)}),[]),(0,f.P)(p,k),i.createElement("a",(0,a._)({href:n,ref:function(e){p.current=e,"function"==typeof t?t(e):t&&(t.current=e)},onClick:function(e){e.preventDefault(),k(e)},onMouseDown:function(e){e.preventDefault(),g(n,e)},className:m()(v().a,_&&v().preventNav,s)},u),c)},_=(0,i.memo)((0,i.forwardRef)(b)),w=n(35565),k=(n(96391),n(5127),n(17385),n(17125),n(9564),n(60452),n(23395),n(80978),n(11183),n(81959)),y=n(7872);var E=[{pagePath:"/goods.html",pageRegExp:["/(?:\\w*-)*g-(?<goods_id>\\d+)\\.html"],pageSingleKey:["goods_id"]},{pagePath:"/mall.html",pageRegExp:["/(?:\\w*-)*m-(?<mall_id>\\d+).html"],pageSingleKey:["mall_id"]},{pagePath:"/category.html",pageRegExp:["/(?:\\w*-)*o(?:\\d+)-(?<opt_id>\\d+)\\.html"],pageSingleKey:["opt_id"]},{pagePath:"/seo_search_result.html",pageRegExp:["/(?<search_key>[^\\s/]+)-s\\.html"],pageSingleKey:["search_key"]}];function S(e,t){var n=t||{},a=n.pageRegExp,o=n.pageSingleKey,r=n.pagePath,i=n.pathnamePrefix,s=function(e){var t=document.createElement("a");return t.href=e,t}(e),c=s||{},u=c.pathname,d=c.search,m=!1,g="";if((a||[]).reduce((function(e,t){return e||u.match(t)}),null))m=!0;else if(u.endsWith(r)){m=!0;var f=(0,l.mB)(d);o.reduce((function(e,t){return e&&f[t]}),!0)||(g="missing query "+o.join(" "))}else u.includes(i)&&(m=!0,g="url not match the rule "+a.join(" "));return{isThisPageUrl:m,errorMsg:g}}function I(e,t){(0,y.Y7)(window.navigator.userAgent);try{var n="";e||(n="url seoUrl href all does not exist");for(var a=t||E,o=a.length,r=!0,i=0;i<o&&r&&!n;){var l=S(e,a[i])||{},s=l.isThisPageUrl;n=l.errorMsg,s&&(r=!1),i+=1}if(n){var c=new Error("displayHref:"+(e||"no displayHref")+" "+n);(0,k.K2)(c,{errorCode:"500001"})}}catch(e){0}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){if(window.requestIdleCallback){var n=window.requestIdleCallback((function(){null==e||e.apply(void 0,(0,w._)(t))}));return function(){return window.cancelIdleCallback(n)}}var a=window.setTimeout((function(){null==e||e.apply(void 0,(0,w._)(t))}),1);return function(){return window.clearTimeout(a)}}(I,t)}var x=function(e){var t=e.displayUrl,n=e.jumpUrl,a=e.url,o=e.seoUrl;return t||(null==o?void 0:o.split("?")[0])||n||a},N=function(e){var t=e.displayUrl,n=e.jumpUrl,a=e.url,o=e.seoUrl;return n||a||t||o},P=function(e){return s.ZP.uniformForward(e)},L=function(e,t){var n=e.jumpUrl,d=e.url,m=(e.displayUrl,e.seoUrl,e.generateHref),g=e.generateMouseDownHref,f=e.onClick,p=void 0===f?P:f,v=e.children,h=e.isCheckDisplayHref,T=void 0===h||h,b=e.checkStaticRouteConfig,w=(0,o._)(e,["jumpUrl","url","displayUrl","seoUrl","generateHref","generateMouseDownHref","onClick","children","isCheckDisplayHref","checkStaticRouteConfig"]),k=(0,c.l)(),y=(m||k.generateHref||x)(e);(0,i.useEffect)((function(){return T?C(y,b):function(){}}),[T,y,b]);var E=(0,r._)((0,i.useState)(y),2),S=E[0],I=E[1],L=(0,i.useCallback)((function(e,t){p(n||d,t,S)}),[n,d,p,S]);return i.createElement(_,(0,a._)({href:S,onClick:L,onMouseDown:function(){var t=(0,u.kA)((0,l.ru)(s.ZP.getNextPageQuery(),(g||k.generateMouseDownHref||N)(e)));I(t)},ref:t},w),v)},W=(0,i.forwardRef)(L)},25057:function(e,t,n){"use strict";var a=n(94761),o=n(87184),r=n(94872),i=n(91455),l=n(31859),s=function(e,t){var n,s=(0,i.lO)()||{},c=(0,r.$)("bec-fe.svg-icons-h5"),u=c.t,d=c.i18n,m="M704 215.8c18.2-18.9 17.6-49-1.3-67.2-17-16.4-43.1-17.5-61.5-3.8l-5.8 5.1-315.4 328.7c-15.7 16.3-17.4 41.1-5.3 59.3l5.2 6.5 315.5 329.6c18.2 19 48.3 19.6 67.2 1.5 17.1-16.3 19.3-42.4 6.4-61.2l-4.9-6-284-296.6 283.9-295.9z",g="M320 215.8c-18.2-18.9-17.6-49 1.3-67.2 17-16.4 43.1-17.5 61.5-3.8l5.8 5.1 315.4 328.7c15.7 16.3 17.4 41.1 5.3 59.3l-5.2 6.5-315.5 329.6c-18.2 19-48.3 19.6-67.2 1.5-17.1-16.3-19.3-42.4-6.4-61.2l4.9-6 284-296.6-283.9-295.9z",f=(0,o.useMemo)((function(){var e,t,n;return("boolean"==typeof s.isRTL?s.isRTL:"rtl"===(null==(n=document)||null==(t=n.documentElement)||null==(e=t.getAttribute)?void 0:e.call(t,"dir")))?g:m}),[s.isRTL,g,m]);return o.createElement(l.l,(0,a._)({},e,{"aria-label":null!=(n=e["aria-label"])?n:d.exists("aria-label.CommonLeftArrow",{ns:"bec-fe.svg-icons-h5"})?u("aria-label.CommonLeftArrow"):void 0,ref:t,path:f}))};t.Z=o.forwardRef(s)},58189:function(e,t,n){"use strict";var a=n(94761),o=n(87184),r=n(94872),i=n(31859),l=function(e,t){var n,l=(0,r.$)("bec-fe.svg-icons-h5"),s=l.t,c=l.i18n;return o.createElement(i.l,(0,a._)({},e,{"aria-label":null!=(n=e["aria-label"])?n:c.exists("aria-label.CommonWrong",{ns:"bec-fe.svg-icons-h5"})?s("aria-label.CommonWrong"):void 0,ref:t,path:"M266.2 174.1l245.7 245.7 245.9-245.7c25.4-25.4 66.7-25.4 92.1 0 25.4 25.4 25.4 66.7 0 92.1l-245.8 245.7 245.8 245.9c25.4 25.4 25.4 66.7 0 92.1-25.4 25.4-66.7 25.4-92.1 0l-245.9-245.8-245.7 245.8c-25.4 25.4-66.7 25.4-92.1 0-25.4-25.4-25.4-66.7 0-92.1l245.7-245.9-245.7-245.7c-25.4-25.4-25.4-66.7 0-92.1 25.4-25.4 66.7-25.4 92.1 0z"}))};t.Z=o.forwardRef(l)},47828:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(94761),o=n(87184);function r(e){var t,n,r=e.children,i=e.styleProps,l=void 0===i?{}:i,s=e.isSeo,c=null==l||null==(n=l.backgroundImageUrl)||null==(t=n[0])?void 0:t.url,u=c?"url("+c+")":void 0;return s?o.createElement("h2",{style:(0,a._)({},l,{backgroundImage:u})},r):o.createElement("div",{style:(0,a._)({},l,{backgroundImage:u}),role:"heading",tabIndex:0},r)}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/1372_e167877c90db5f22d8cb.js.map